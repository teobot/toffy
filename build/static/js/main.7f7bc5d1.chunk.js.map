{"version":3,"sources":["helpers/StorageHelper.js","api/toffy.js","context/LoggedInContext.js","components/NavBar.js","context/ToastContext.js","context/WindowContext.js","functions/useWindowWidth.js","img/widescreen-020.jpg","screens/LoginScreen.js","img/widescreen-021.jpg","components/Tournament/TournamentConfig.js","functions/calculateCreated.js","components/Tournament/TournamentSearch/TournamentSearchCard.js","screens/HomeScreen.js","img/widescreen-014.jpg","img/widescreen-015.jpg","img/widescreen-016.jpg","img/widescreen-017.jpg","img/widescreen-018.jpg","screens/LandingScreen.js","img/widescreen-019.jpg","screens/AccountCreateScreen.js","components/Tournament/TournamentControls/UserPlayingButtonGroup.js","components/Tournament/AdministrationTools/AdminTools.js","components/Tournament/TournamentDisplays/SingleElimination/components/Player.js","components/img/edit.js","components/Tournament/TournamentDisplays/SingleElimination/components/Match.js","components/Tournament/TournamentDisplays/SingleElimination/components/Round.js","components/Tournament/TournamentDisplays/SingleElimination/TournamentBracketSegment.js","components/Tournament/TournamentDisplays/LeaderBoard/LeaderboardSegment.js","components/Tournament/TournamentDisplays/TournamentPlayerDisplay.js","components/Tournament/TournamentMenu.js","screens/TournamentScreen.js","components/User/ChartSegment.js","screens/UserScreen.js","screens/CreateTournamentScreen.js","functions/redirectLogin.js","functions/difference.js","screens/UserEditScreen.js","index.js"],"names":["StorageHelper","cname","localStorage","getItem","cvalue","setItem","removeItem","AxiosInstance","instance","axios","create","baseURL","timeout","token","getStorage","defaults","headers","common","LoggedInContext","createContext","NavBar","routes","history","useHistory","useContext","UserLoggedIn","handleLogout","username","user_id","id","Segment","inverted","clearing","padded","style","borderRadius","Menu","Item","onClick","push","alt","src","Dropdown","item","text","className","Divider","position","link","name","Button","color","compact","size","ToastContext","WindowContext","useState","window","innerWidth","windowWidth","setWindowWidth","innerHeight","windowHeight","setWindowHeight","handleWindowSizeChange","useEffect","addEventListener","removeEventListener","useWindowWidth","LoginScreen","email","setEmail","password","setPassword","sideImageSize","setSideImageSize","handleUserLogin","showToast","toffy","document","getElementById","clientHeight","handleLogin","a","post","response","data","error","imageCoverStyle","backgroundSize","backgroundRepeat","backgroundPosition","Grid","Row","Column","computer","largeScreen","mobile","widescreen","tablet","width","height","backgroundColor","display","minHeight","backgroundImage","topImage","justifyContent","alignItems","Container","padding","Header","fontSize","Content","Subheader","section","Input","placeholder","onChange","event","target","value","fluid","hidden","type","tournament_types","states","ALLOWED_PROFILE_IMAGES","dayjs","require","relativeTime","calendar","calculateCreated","date","extend","fromNow","TournamentSearchCard","result","onHover","setOnHover","marginBottom","cursor","_id","onMouseEnter","onMouseLeave","basic","floated","Image","circular","creator","profile_pic","fontWeight","title","right","top","Icon","marginRight","players","Label","created","sameDay","nextDay","nextWeek","lastDay","lastWeek","sameElse","state","HomeScreen","results","setResults","resultSort","getTournamentList","get","r","getNumberOfTournamentType","num","i","length","tournamentSearchDisplay","stretched","map","search","columns","textAlign","margin","banner","as","container","stackable","Group","index","LandingScreen","stats","setStats","delay","ms","Promise","res","setTimeout","getStats","textShadow","tournament_count","user_count","matches_count","round_count","obj","image","elowidescreen","headerContent","tournamentypes","legendwidescreen","displayRow","GridCol","signupwidescreen","marginTop","reducer","action","payload","firstname","lastname","AccountCreateScreen","useReducer","dispatch","handleSubmit","handleInputChange","UserPlayingButtonGroup","tournamentData","getTournamentData","handlePlayerJoin","handlePlayerLeave","delete","checkIfUserInsidePlayers","negative","positive","AdminTools","tournament","tournamentTitle","setTournamentTitle","loading","setLoading","description","tournamentDescription","setTournamentDescription","handleTournamentProgress","handleTournamentUpdate","updateObj","patch","horizontal","Form","TextArea","rows","split","primary","disabled","Player","ThisX","ThisY","playerData","matchId","winner","score","TournamentContext","isAdmin","player","x","y","fill","filter","toString","edit","viewBox","d","Match","match","changeSelectedMatch","inProgress","isEditable","player1","player2","match_id","points","stroke","strokeWidth","pointer-events","Round","roundData","roundIndex","tournamentMatchData","polylineStyle","MatchHeight","MatchWidth","matches","matchData","matchIndex","dynamicViewSpace","Math","pow","round","distanceBetweenRounds","matchReducer","player1Selected","player2Selected","player1Score","player2Score","RobinRoundDisplay","match_data","tournament_id","Viewer","useRef","open","setOpen","modelMatch","setModelMatch","parseInt","UpdateMatchDetails","scores","current","zoom","Provider","background","SVGBackground","tool","TOOL_AUTO","ref","detectAutoPan","customMiniature","customToolbar","Modal","onClose","onOpen","label","min","max","labelPosition","Actions","content","icon","TableRow","cell1","cell2","cell3","widths","Table","Cell","LeaderboardTableRow","playerScore","setPlayerScore","handleSave","rounded","elo","LeaderboardSegment","settings","striped","selectable","HeaderCell","scoreTitle","Body","sort","b","TournamentPlayerDisplay","vertical","verticalAlign","TournamentMenu","view","pointing","secondary","undefined","menuItem","active","TournamentScreen","useParams","setResult","checkTournamentView","v","t","doubling","format","fitted","textDecoration","ChartSegment","userData","itemLeft","itemRight","centerItem","chartRef","createRef","chartInstance","setChartInstance","myTournamentChartRef","getContext","labels","datasets","hoverOffset","config","options","plugins","legend","cutout","update","Chart","bottom","left","UserScreen","user","setUser","getUserInformation","date_joined","tournaments_organized","matches_played","total_tournaments_played","matches_won","attached","win_percentage","matches_lost","borderTop","listed","CreateTournamentScreen","inputStyle","maxWidth","settingContainerStyle","handleFormSubmit","selection","defaultValue","key","WHITELISTED_PATHS","difference","Object","entries","UserEditScreen","setUsername","handleUserUpdate","userRes","marginLeft","border","routeName","routerComponent","App","setUserLoggedIn","setToken","setUser_id","deleteStorage","login_response","setStorage","TOKEN_STORAGE_NAME","useLoginContext","LoginContext","useWindowContext","WindowContextValues","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","message","toast","info","success","warning","ToastContainer","ToastValues","location","useLocation","redirect","storageToken","request","method","url","Accept","loginAttempt","includes","pathname","RedirectLogin","route","path","ReactDOM","render","StrictMode","basename"],"mappings":"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","file":"static/js/main.7f7bc5d1.chunk.js","sourcesContent":["export default class StorageHelper {\r\n  static getStorage(cname) {\r\n    // getter\r\n    return localStorage.getItem(cname);\r\n  }\r\n\r\n  static setStorage(cname, cvalue) {\r\n    // setter\r\n    localStorage.setItem(cname, cvalue);\r\n  }\r\n\r\n  static checkInStorage(cname) {\r\n    if (localStorage.getItem(cname)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  static deleteStorage(cname) {\r\n    localStorage.removeItem(cname);\r\n  }\r\n}\r\n","import axios from \"axios\";\r\nimport StorageHelper from \"../helpers/StorageHelper\";\r\n\r\n// This is my axios instance,\r\n// Here I set the location of the tournament server\r\n\r\nconst DEV = true\r\nconst BACKEND_URL = \"https://api-toffy.herokuapp.com\"\r\n\r\nconst AxiosInstance = () => {\r\n  const instance = axios.create({\r\n    baseURL: DEV ? \"http://192.168.1.216:3333\" : BACKEND_URL,\r\n    timeout: 5000,\r\n  });\r\n\r\n  const token = StorageHelper.getStorage(\"@token\");\r\n  if (token) {\r\n    instance.defaults.headers.common[\"X-Authorization\"] = token;\r\n  }\r\n\r\n  delete instance.defaults.headers.common[\"Accept\"];\r\n\r\n  return instance;\r\n};\r\n\r\nexport default AxiosInstance();\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nimport { createContext, useState } from \"react\";\r\n\r\nimport StorageHelper from \"../helpers/StorageHelper\";\r\n\r\nimport toffy from \"../api/toffy\";\r\n\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport const LoggedInContext = createContext();\r\n\r\nexport const TOKEN_STORAGE_NAME = \"@token\";\r\n\r\n// Importing CP\r\n// *\r\n// import { LoggedInContext } from \"./context/LoggedInContext\"\r\n// const { UserLoggedIn, handleLogout, handleUserLogin } = useContext(LoggedInContext)\r\n// *\r\n\r\nexport default () => {\r\n  // This handles the global user of the user location information\r\n  const [UserLoggedIn, setUserLoggedIn] = useState(false);\r\n\r\n  // useStates variables\r\n  const [token, setToken] = useState(null);\r\n  const [username, setUsername] = useState(null);\r\n  const [user_id, setUser_id] = useState(null);\r\n\r\n  let history = useHistory();\r\n\r\n  const handleLogout = () => {\r\n    //   This handles the user logout\r\n    toffy.defaults.headers.common[\"X-Authorization\"] = \"\";\r\n    StorageHelper.deleteStorage(\"@token\");\r\n    setToken(null);\r\n    setUsername(null);\r\n    setUser_id(null);\r\n    setUserLoggedIn(false);\r\n  };\r\n\r\n  const handleUserLogin = (login_response) => {\r\n    //  This handles the user logging in\r\n    //  login_response === { token, username, user_id }\r\n    toffy.defaults.headers.common[\"X-Authorization\"] = login_response.token;\r\n    StorageHelper.setStorage(\"@token\", login_response.token);\r\n    setToken(login_response.token);\r\n    setUsername(login_response.username);\r\n    setUser_id(login_response.user_id);\r\n    setUserLoggedIn(true);\r\n  };\r\n\r\n  return [\r\n    {\r\n      UserLoggedIn,\r\n      handleLogout,\r\n      handleUserLogin,\r\n      setUsername,\r\n      token,\r\n      username,\r\n      user_id,\r\n      TOKEN_STORAGE_NAME,\r\n    },\r\n  ];\r\n};\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport {\r\n  Container,\r\n  Segment,\r\n  Button,\r\n  Image,\r\n  Grid,\r\n  Dropdown,\r\n  Menu,\r\n} from \"semantic-ui-react\";\r\n\r\nimport { LoggedInContext } from \"../context/LoggedInContext\";\r\n\r\nexport default function NavBar({ routes }) {\r\n  let history = useHistory();\r\n  const { UserLoggedIn, handleLogout, token, username, user_id } = useContext(\r\n    LoggedInContext\r\n  );\r\n  return (\r\n    <div id=\"navbar\">\r\n      <Segment inverted clearing padded style={{ borderRadius: 0 }}>\r\n        <Menu inverted>\r\n          <Menu.Item\r\n            onClick={() => {\r\n              history.push(UserLoggedIn ? \"/home\" : \"/\");\r\n            }}\r\n          >\r\n            <img\r\n              alt=\"company logo\"\r\n              src=\"https://react.semantic-ui.com/logo.png\"\r\n            />\r\n          </Menu.Item>\r\n\r\n          {false ? (\r\n            <>\r\n              <Menu.Item\r\n                onClick={() => {\r\n                  history.push(\"/create/tournament\");\r\n                }}\r\n                link\r\n                name=\"Tournament Creation\"\r\n              />\r\n            </>\r\n          ) : (\r\n            <></>\r\n          )}\r\n\r\n          {UserLoggedIn ? (\r\n            <Dropdown item text={username} className=\"right\">\r\n              <Dropdown.Menu>\r\n                <Dropdown.Item\r\n                  onClick={() => {\r\n                    history.push(`/u/${user_id}`);\r\n                  }}\r\n                  text=\"Profile\"\r\n                />\r\n                <Dropdown.Divider />\r\n                <Dropdown.Item\r\n                  onClick={() => {\r\n                    if (UserLoggedIn) {\r\n                      handleLogout();\r\n                      history.push(\"/\");\r\n                    } else {\r\n                      history.push(\"/login\");\r\n                    }\r\n                  }}\r\n                  text=\"Logout\"\r\n                />\r\n              </Dropdown.Menu>\r\n            </Dropdown>\r\n          ) : (\r\n            <Menu.Menu position=\"right\">\r\n              <Menu.Item\r\n                onClick={() => {\r\n                  history.push(\"/login\");\r\n                }}\r\n                link\r\n                name=\"Login\"\r\n              />\r\n              <Menu.Item>\r\n                <Button\r\n                  onClick={() => {\r\n                    history.push(\"/create/account\");\r\n                  }}\r\n                  color=\"orange\"\r\n                  compact\r\n                  size=\"tiny\"\r\n                >\r\n                  SIGN UP\r\n                </Button>\r\n              </Menu.Item>\r\n            </Menu.Menu>\r\n          )}\r\n        </Menu>\r\n      </Segment>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nimport { createContext } from \"react\";\r\n\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\n\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport const ToastContext = createContext();\r\n\r\nexport default () => {\r\n  // This handles the global user of the window dimension information\r\n\r\n  const showToast = (type, message) => {\r\n    switch (type) {\r\n      case \"info\":\r\n        toast.info(\" \" + message);\r\n        break;\r\n      case \"success\":\r\n        toast.success(\" \" + message);\r\n        break;\r\n      case \"warning\":\r\n        toast.warning(\" \" + message);\r\n        break;\r\n      case \"error\":\r\n        toast.error(\" \" + message);\r\n        break;\r\n      default:\r\n        toast.name(\" \" + message);\r\n        break;\r\n    }\r\n  };\r\n\r\n  return [\r\n    <ToastContainer\r\n      position=\"top-right\"\r\n      autoClose={4000}\r\n      hideProgressBar={false}\r\n      newestOnTop={false}\r\n      closeOnClick={true}\r\n      rtl={false}\r\n      pauseOnFocusLoss={false}\r\n      draggable={true}\r\n      pauseOnHover={true}\r\n    />,\r\n    { showToast },\r\n  ];\r\n};\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nimport { createContext } from \"react\";\r\n\r\nimport useWindowWidth from \"../functions/useWindowWidth\";\r\n\r\nexport const WindowContext = createContext();\r\n\r\nexport default () => {\r\n  // This handles the global user of the window dimension information\r\n  const { windowWidth, windowHeight } = useWindowWidth();\r\n\r\n  return [{ windowWidth, windowHeight }];\r\n};\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default () => {\r\n  // This hook returns the window dimensions\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth);\r\n  const [windowHeight, setWindowHeight] = useState(window.innerHeight);\r\n\r\n  const handleWindowSizeChange = () => {\r\n    setWindowHeight(window.innerHeight);\r\n    setWindowWidth(window.innerWidth);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", handleWindowSizeChange);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleWindowSizeChange);\r\n    };\r\n  }, []);\r\n\r\n  return { windowWidth, windowHeight };\r\n};\r\n","export default __webpack_public_path__ + \"static/media/widescreen-020.7abd3768.jpg\";","import React, { useState, useContext, useEffect } from \"react\";\r\n\r\nimport toffy from \"../api/toffy\";\r\n\r\nimport {\r\n  Container,\r\n  Input,\r\n  Header,\r\n  Button,\r\n  Divider,\r\n  Grid,\r\n} from \"semantic-ui-react\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { LoggedInContext } from \"../context/LoggedInContext\";\r\nimport { ToastContext } from \"../context/ToastContext\";\r\nimport { WindowContext } from \"../context/WindowContext\";\r\n\r\nimport topImage from \"../img/widescreen-020.jpg\";\r\n\r\nexport default function LoginScreen() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const [sideImageSize, setSideImageSize] = useState(150);\r\n\r\n  let history = useHistory();\r\n\r\n  const { handleUserLogin } = useContext(LoggedInContext);\r\n  const { showToast } = useContext(ToastContext);\r\n  const { windowWidth, windowHeight } = useContext(WindowContext);\r\n\r\n  useEffect(() => {\r\n    if (toffy.defaults.headers.common[\"X-Authorization\"]) {\r\n      // Toffy has header so redirect\r\n      history.push(\"/home\");\r\n    }\r\n    setSideImageSize(document.getElementById(\"navbar\").clientHeight + 50);\r\n  }, []);\r\n\r\n  const handleLogin = async () => {\r\n    // Handle the submitting of the auth data\r\n    try {\r\n      // Make a response to login\r\n      const response = await toffy.post(\"/signin\", {\r\n        email,\r\n        password,\r\n      });\r\n\r\n      // Tell Context user has logged in\r\n      handleUserLogin(response.data);\r\n\r\n      showToast(\"success\", \"Log in successful.\");\r\n\r\n      // Push the user to the home screen\r\n      history.push(\"/home\");\r\n    } catch (error) {\r\n      // : User failed logging in\r\n      showToast(\"error\", error.response.data.error);\r\n    }\r\n  };\r\n\r\n  const handleEmailChange = (event) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const handlePasswordChange = (event) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n  const imageCoverStyle = {\r\n    backgroundSize: \"cover\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundPosition: `${windowWidth > 650 ? \"center\" : \"top\"} center`,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid>\r\n        <Grid.Row>\r\n          <Grid.Column\r\n            computer={6}\r\n            largeScreen={6}\r\n            mobile={16}\r\n            widescreen={6}\r\n            tablet={6}\r\n            width={6}\r\n          >\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                backgroundColor: \"lavender\",\r\n                display: \"flex\",\r\n                minHeight:\r\n                  windowWidth > 650\r\n                    ? windowHeight - sideImageSize\r\n                    : windowHeight / 4,\r\n                ...imageCoverStyle,\r\n                backgroundImage: `url(${topImage})`,\r\n              }}\r\n              className=\"fade-image\"\r\n            />\r\n          </Grid.Column>\r\n          <Grid.Column\r\n            computer={10}\r\n            largeScreen={10}\r\n            mobile={16}\r\n            widescreen={10}\r\n            tablet={10}\r\n            width={10}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <Container text style={{ padding: `0px ${windowWidth / 15}px` }}>\r\n                <Header inverted style={{ fontSize: 16 + windowWidth / 60 }}>\r\n                  <Header.Content>\r\n                    Log in\r\n                    <Header.Subheader>\r\n                      Welcome back! Please enter your details below.\r\n                    </Header.Subheader>\r\n                  </Header.Content>\r\n                </Header>\r\n                <Divider section />\r\n                <div>\r\n                  <div>\r\n                    <Input\r\n                      placeholder=\"Email\"\r\n                      onChange={handleEmailChange}\r\n                      value={email}\r\n                      className=\"settingInput\"\r\n                      fluid\r\n                    />\r\n                  </div>\r\n                  <Divider hidden />\r\n                  <div>\r\n                    <Input\r\n                      placeholder=\"Password\"\r\n                      onChange={handlePasswordChange}\r\n                      value={password}\r\n                      className=\"settingInput\"\r\n                      fluid\r\n                      type=\"password\"\r\n                    />\r\n                  </div>\r\n                  <Divider hidden />\r\n                  <div>\r\n                    <a\r\n                      onClick={() => {\r\n                        history.push(\"/create/account\");\r\n                      }}\r\n                    >\r\n                      Don't have a account?\r\n                    </a>\r\n                  </div>\r\n                  <Divider section={windowWidth > 650} />\r\n                  <Button\r\n                    size={windowWidth > 650 ? \"huge\" : \"large\"}\r\n                    fluid\r\n                    onClick={handleLogin}\r\n                    color=\"orange\"\r\n                  >\r\n                    Login\r\n                  </Button>\r\n                </div>\r\n              </Container>\r\n            </div>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/widescreen-021.218bb1ff.jpg\";","// Tournament enums\r\n\r\nexport const tournament_types = {\r\n  LEADERBOARD: \"Leaderboard\",\r\n  DOUBLE_ELIMINATION: \"Double Elimination\",\r\n  SINGLE_ELIMINATION: \"Single Elimination\",\r\n};\r\n\r\nexport const states = {\r\n  JOIN: \"Joining\",\r\n  PLAY: \"Playing\",\r\n  END: \"Ended\",\r\n};\r\n\r\n// Allowed User Profile images\r\nexport const ALLOWED_PROFILE_IMAGES = [\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-001.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-003.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-002.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-004.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-005.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-006.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-007.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-008.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-009.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-010.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-011.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-012.jpg\",\r\n  \"https://raw.githubusercontent.com/teobot/toffy-bucket/main/profle-image-013.jpg\",\r\n];\r\n","import { states } from \"../components/Tournament/TournamentConfig\";\r\n\r\nconst dayjs = require(\"dayjs\");\r\nconst relativeTime = require(\"dayjs/plugin/relativeTime\");\r\nconst calendar = require(\"dayjs/plugin/calendar\");\r\n\r\nconst calculateCreated = (date) => {\r\n  dayjs.extend(relativeTime);\r\n  return dayjs(date).fromNow();\r\n};\r\n\r\nexport const displayDate = (date) => {\r\n  dayjs.extend(relativeTime);\r\n  return dayjs(date).format(`MMMM DD, YYYY [at] hh:mm A`);\r\n};\r\n\r\nexport const shortDisplayDate = (date) => {\r\n  dayjs.extend(calendar);\r\n\r\n  return dayjs().calendar(dayjs(date), {\r\n    sameDay: \"[Today, ] H:mm\",\r\n    nextDay: \"MMM DD [,] H:mm\",\r\n    nextWeek: \"MMM DD [,] H:mm\",\r\n    lastDay: \"MMM DD [,] H:mm\",\r\n    lastWeek: \"MMM DD [,] H:mm\",\r\n    sameElse: \"MMM DD H:mm\",\r\n  });\r\n};\r\n\r\nexport const displayState = (state) => {\r\n  if (state === states.JOIN) {\r\n    return \"Joinable\";\r\n  }\r\n  if (state === states.PLAY) {\r\n    return \"In Progress\";\r\n  }\r\n  if (state === states.END) {\r\n    return \"Ended\";\r\n  }\r\n};\r\n\r\nexport default calculateCreated;\r\n","import React, { useContext, useState } from \"react\";\r\n\r\nimport {\r\n  Segment,\r\n  Header,\r\n  Image,\r\n  Icon,\r\n  Label,\r\n  Loader,\r\n  Placeholder,\r\n} from \"semantic-ui-react\";\r\n\r\nimport { shortDisplayDate } from \"../../../functions/calculateCreated\";\r\n\r\nimport { WindowContext } from \"../../../context/WindowContext\";\r\n\r\nexport default function TournamentSearchCard({ history, result }) {\r\n  const { windowWidth, windowHeight } = useContext(WindowContext);\r\n\r\n  const [onHover, setOnHover] = useState(false);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#4a4c52\",\r\n        marginBottom: 3,\r\n        borderRadius: 3,\r\n        cursor: \"pointer\",\r\n      }}\r\n      onClick={() => {\r\n        history.push(`/tournament/${result._id}`);\r\n      }}\r\n      onMouseEnter={() => {\r\n        setOnHover(true);\r\n      }}\r\n      onMouseLeave={() => {\r\n        setOnHover(false);\r\n      }}\r\n    >\r\n      <Segment\r\n        basic\r\n        inverted={onHover}\r\n        floated\r\n        style={{ position: \"relative\" }}\r\n      >\r\n        <Header inverted>\r\n          <Image circular src={result.creator.profile_pic} />\r\n\r\n          <Header.Content>\r\n            <span\r\n              style={{ fontSize: 14, fontWeight: 600 }}\r\n              className=\"text-shadow\"\r\n            >\r\n              {result.title}\r\n            </span>\r\n            <div\r\n              style={{\r\n                ...(windowWidth > 650\r\n                  ? {\r\n                      position: \"absolute\",\r\n                      right: 14,\r\n                      top: 14,\r\n                    }\r\n                  : {\r\n                      padding: \"3px 0px\",\r\n                    }),\r\n              }}\r\n            >\r\n              <span style={{ fontSize: 12, color: \"lightgrey\" }}>\r\n                <Icon name=\"user\" style={{ marginRight: 2 }} /> {result.players}\r\n              </span>\r\n              <Label color=\"black\" size=\"tiny\">\r\n                {shortDisplayDate(result.created)}\r\n              </Label>\r\n            </div>\r\n            <Header.Subheader style={{ fontSize: 12 }}>\r\n              {result.type} - {result.state}\r\n            </Header.Subheader>\r\n          </Header.Content>\r\n        </Header>\r\n      </Segment>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport {\r\n  Button,\r\n  Container,\r\n  Divider,\r\n  Grid,\r\n  Header,\r\n  Icon,\r\n  Image,\r\n  Label,\r\n  List,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\n\r\nimport toffy from \"../api/toffy\";\r\n\r\nimport { WindowContext } from \"../context/WindowContext\";\r\nimport { ToastContext } from \"../context/ToastContext\";\r\n\r\nimport banner from \"../img/widescreen-021.jpg\";\r\n\r\nimport TournamentSearchCard from \"../components/Tournament/TournamentSearch/TournamentSearchCard\";\r\n\r\nimport { states } from \"../components/Tournament/TournamentConfig\";\r\n\r\nexport default function HomeScreen() {\r\n  const [results, setResults] = useState([]);\r\n\r\n  let history = useHistory();\r\n\r\n  const { windowWidth, windowHeight } = useContext(WindowContext);\r\n  const { showToast } = useContext(ToastContext);\r\n\r\n  const resultSort = [\r\n    {\r\n      type: \"\",\r\n      title: \"All\",\r\n    },\r\n    {\r\n      type: states.JOIN,\r\n      title: \"Joining\",\r\n    },\r\n    {\r\n      type: states.PLAY,\r\n      title: \"In Progress\",\r\n    },\r\n    {\r\n      type: states.END,\r\n      title: \"Ended\",\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    getTournamentList();\r\n  }, []);\r\n\r\n  const getTournamentList = async () => {\r\n    try {\r\n      const r = await toffy.get(\"/find\");\r\n      setResults(r.data);\r\n    } catch (error) {\r\n      // : error getting the tournament list data\r\n      showToast(\"error\", \"Failed to retrieve data, please try again later\");\r\n    }\r\n  };\r\n\r\n  const getNumberOfTournamentType = (type) => {\r\n    let num = 0;\r\n    for (let i = 0; i < results.length; i++) {\r\n      if (results[i].type === type) {\r\n        num++;\r\n      }\r\n    }\r\n    return num;\r\n  };\r\n\r\n  const tournamentSearchDisplay = (\r\n    <Grid.Column\r\n      computer={5}\r\n      largeScreen={5}\r\n      mobile={16}\r\n      widescreen={5}\r\n      tablet={5}\r\n      width={5}\r\n    >\r\n      <Grid inverted stretched>\r\n        {resultSort.map((search) => {\r\n          return (\r\n            <Grid.Row columns=\"equal\">\r\n              <Grid.Column textAlign=\"left\">{search.title}</Grid.Column>\r\n              <Grid.Column textAlign=\"right\">{`(${getNumberOfTournamentType(\r\n                search.type\r\n              )})`}</Grid.Column>\r\n            </Grid.Row>\r\n          );\r\n        })}\r\n      </Grid>\r\n    </Grid.Column>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div style={{ padding: 0, margin: 0, position: \"relative\" }}>\r\n        <div\r\n          className=\"image-back fade-image\"\r\n          style={{\r\n            backgroundImage: `url(${banner})`,\r\n            height: windowHeight / 4,\r\n            width: \"100%\",\r\n          }}\r\n        />\r\n        <Button\r\n          color=\"orange\"\r\n          style={{\r\n            position: \"absolute\",\r\n            top: windowHeight / 10,\r\n            right: 50,\r\n          }}\r\n          as=\"a\"\r\n          onClick={() => {\r\n            history.push(\"/create/tournament\");\r\n          }}\r\n          size=\"big\"\r\n        >\r\n          CREATE TOURNAMENT\r\n        </Button>\r\n      </div>\r\n\r\n      <Divider hidden section />\r\n\r\n      <Grid container padded=\"vertically\" stackable inverted>\r\n        <Grid.Row>\r\n          {windowWidth <= 768 ? tournamentSearchDisplay : null}\r\n          <Grid.Column\r\n            computer={11}\r\n            largeScreen={11}\r\n            mobile={16}\r\n            widescreen={11}\r\n            tablet={11}\r\n            width={11}\r\n          >\r\n            {results.length > 0 ? (\r\n              <Segment.Group>\r\n                {results.map((result, index) => {\r\n                  return (\r\n                    <TournamentSearchCard result={result} history={history} />\r\n                  );\r\n                })}\r\n              </Segment.Group>\r\n            ) : (\r\n              <Segment inverted textAlign=\"center\">\r\n                No results were found.\r\n              </Segment>\r\n            )}\r\n          </Grid.Column>\r\n          {windowWidth > 768 ? tournamentSearchDisplay : null}\r\n        </Grid.Row>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/widescreen-014.d97bf6b2.jpg\";","export default __webpack_public_path__ + \"static/media/widescreen-015.aee439d4.jpg\";","export default __webpack_public_path__ + \"static/media/widescreen-016.10a08db8.jpg\";","export default __webpack_public_path__ + \"static/media/widescreen-017.967136be.jpg\";","export default __webpack_public_path__ + \"static/media/widescreen-018.6233aece.jpg\";","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\nimport { Button, Grid, Header, Image, Segment } from \"semantic-ui-react\";\r\n\r\nimport widescreen from \"../img/widescreen-014.jpg\";\r\nimport elowidescreen from \"../img/widescreen-015.jpg\";\r\nimport tournamentypes from \"../img/widescreen-016.jpg\";\r\nimport legendwidescreen from \"../img/widescreen-017.jpg\";\r\nimport signupwidescreen from \"../img/widescreen-018.jpg\";\r\n\r\nimport { WindowContext } from \"../context/WindowContext\";\r\n\r\nimport toffy from \"../api/toffy\";\r\n\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function LandingScreen() {\r\n  let { windowWidth, windowHeight } = useContext(WindowContext);\r\n\r\n  const [stats, setStats] = useState(null);\r\n\r\n  let history = useHistory();\r\n\r\n  const imageCoverStyle = {\r\n    backgroundSize: \"cover\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundPosition: \"center center\",\r\n  };\r\n\r\n  const delay = (ms) => new Promise((res) => setTimeout(res, ms));\r\n\r\n  const getStats = async () => {\r\n    // Get the toffy stats\r\n    try {\r\n      const res = await toffy.get(\"/stat/user\");\r\n      setStats(res.data);\r\n    } catch (error) {\r\n      // : Error getting stats\r\n      await delay(20000);\r\n      getStats();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getStats();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          height: windowHeight * 0.7,\r\n          backgroundImage: `url(${widescreen})`,\r\n          ...imageCoverStyle,\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Segment basic textAlign=\"center\">\r\n          <Header\r\n            style={{\r\n              fontSize: 45 + windowWidth / 40,\r\n              textShadow: \"3px 1px black\",\r\n            }}\r\n            inverted\r\n          >\r\n            <Image circular src=\"https://react.semantic-ui.com/logo.png\" />\r\n            <Header.Content>\r\n              Toffy\r\n              <Header.Subheader\r\n                style={{\r\n                  color: \"orange\",\r\n                  fontSize: 18 + windowWidth / 400,\r\n                  fontWeight: 900,\r\n                }}\r\n              >\r\n                tournaments made simple\r\n              </Header.Subheader>\r\n            </Header.Content>\r\n          </Header>\r\n        </Segment>\r\n      </div>\r\n\r\n      <Segment basic>\r\n        <Grid style={{ padding: \"30px 0px\" }} stretched>\r\n          <Grid.Row stretched>\r\n            {[\r\n              {\r\n                title: \"Total tournaments organized\",\r\n                value: stats ? stats.tournament_count : \"...\",\r\n              },\r\n              {\r\n                title: \"Users Signed Up\",\r\n                value: stats ? stats.user_count : \"...\",\r\n              },\r\n              {\r\n                title: \"Total Matches Played\",\r\n                value: stats ? stats.matches_count : \"...\",\r\n              },\r\n              {\r\n                title: \"Total Rounds Played\",\r\n                value: stats ? stats.round_count : \"...\",\r\n              },\r\n            ].map((obj) => {\r\n              return (\r\n                <Grid.Column\r\n                  computer={4}\r\n                  largeScreen={4}\r\n                  widescreen={4}\r\n                  tablet={8}\r\n                  mobile={16}\r\n                >\r\n                  <Segment\r\n                    basic\r\n                    textAlign=\"center\"\r\n                    style={{ padding: \"25px 0px\" }}\r\n                  >\r\n                    <Header inverted style={{ fontSize: 42 }}>\r\n                      {obj.value}\r\n                    </Header>\r\n                    <Header.Subheader style={{ color: \"grey\" }}>\r\n                      {obj.title}\r\n                    </Header.Subheader>\r\n                  </Segment>\r\n                </Grid.Column>\r\n              );\r\n            })}\r\n          </Grid.Row>\r\n        </Grid>\r\n      </Segment>\r\n\r\n      <Grid>\r\n        {[\r\n          {\r\n            image: elowidescreen,\r\n            headerContent: (\r\n              <Header.Content>\r\n                Elo Scoring\r\n                <Header.Subheader>\r\n                  Each player is ranked using the ELO system, making tournaments\r\n                  fairer with less effort.\r\n                </Header.Subheader>\r\n              </Header.Content>\r\n            ),\r\n          },\r\n          {\r\n            image: tournamentypes,\r\n            headerContent: (\r\n              <Header.Content>\r\n                Multiple Types\r\n                <Header.Subheader>\r\n                  Toffy includes a range of different tournament types,\r\n                  including single elimination and leaderboards.\r\n                </Header.Subheader>\r\n              </Header.Content>\r\n            ),\r\n          },\r\n          {\r\n            image: legendwidescreen,\r\n            headerContent: (\r\n              <Header.Content>\r\n                Super simple UI\r\n                <Header.Subheader>\r\n                  The simple UI delivers all the information you need and\r\n                  nothing else.\r\n                </Header.Subheader>\r\n              </Header.Content>\r\n            ),\r\n          },\r\n        ].map((displayRow, index) => {\r\n          const GridCol = (\r\n            <Grid.Column\r\n              computer={8}\r\n              largeScreen={8}\r\n              widescreen={8}\r\n              tablet={8}\r\n              mobile={16}\r\n            >\r\n              <Image src={displayRow.image} fluid />\r\n            </Grid.Column>\r\n          );\r\n          return (\r\n            <Grid.Row stretched>\r\n              {index % 2 !== 0 ? GridCol : null}\r\n              <Grid.Column\r\n                computer={8}\r\n                largeScreen={8}\r\n                widescreen={8}\r\n                tablet={8}\r\n                mobile={16}\r\n              >\r\n                <Segment\r\n                  padded\r\n                  basic\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                  }}\r\n                >\r\n                  <Header inverted size=\"large\" textAlign=\"center\">\r\n                    {displayRow.headerContent}\r\n                  </Header>\r\n                </Segment>\r\n              </Grid.Column>\r\n              {index % 2 === 0 ? GridCol : null}\r\n            </Grid.Row>\r\n          );\r\n        })}\r\n      </Grid>\r\n\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          height: windowHeight * 0.4,\r\n          backgroundColor: \"lightblue\",\r\n          backgroundImage: `url(${signupwidescreen})`,\r\n          ...imageCoverStyle,\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          marginTop: 25,\r\n        }}\r\n      >\r\n        <Segment basic textAlign=\"center\">\r\n          <Header\r\n            style={{\r\n              fontSize: 25 + windowWidth / 40,\r\n              textShadow: \"3px 1px black\",\r\n            }}\r\n            inverted\r\n          >\r\n            <Header.Content>\r\n              Join Today\r\n              <Header.Subheader\r\n                style={{\r\n                  color: \"orange\",\r\n                  fontSize: 18 + windowWidth / 400,\r\n                  fontWeight: 900,\r\n                }}\r\n              >\r\n                <Button\r\n                  as=\"a\"\r\n                  onClick={() => {\r\n                    history.push(\"/create/account\");\r\n                  }}\r\n                  color=\"orange\"\r\n                  compact\r\n                  size=\"large\"\r\n                >\r\n                  FREE SIGN UP\r\n                </Button>\r\n              </Header.Subheader>\r\n            </Header.Content>\r\n          </Header>\r\n        </Segment>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/widescreen-019.3e3dbb63.jpg\";","import React, { useReducer, useContext, useState, useEffect } from \"react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport {\r\n  Button,\r\n  Container,\r\n  Divider,\r\n  Grid,\r\n  Header,\r\n  Input,\r\n} from \"semantic-ui-react\";\r\n\r\nimport toffy from \"../api/toffy\";\r\n\r\nimport { LoggedInContext } from \"../context/LoggedInContext\";\r\nimport { ToastContext } from \"../context/ToastContext\";\r\nimport { WindowContext } from \"../context/WindowContext\";\r\n\r\nimport topImage from \"../img/widescreen-019.jpg\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"change_username\":\r\n      return { ...state, username: action.payload };\r\n    case \"change_firstname\":\r\n      return { ...state, firstname: action.payload };\r\n    case \"change_lastname\":\r\n      return { ...state, lastname: action.payload };\r\n    case \"change_email\":\r\n      return { ...state, email: action.payload };\r\n    case \"change_password\":\r\n      return { ...state, password: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function AccountCreateScreen() {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    username: \"\",\r\n    firstname: \"\",\r\n    lastname: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [sideImageSize, setSideImageSize] = useState(150);\r\n\r\n  let history = useHistory();\r\n\r\n  const { handleUserLogin } = useContext(LoggedInContext);\r\n  const { showToast } = useContext(ToastContext);\r\n  let { windowWidth, windowHeight } = useContext(WindowContext);\r\n\r\n  useEffect(() => {\r\n    if (toffy.defaults.headers.common[\"X-Authorization\"]) {\r\n      // Toffy has header so redirect\r\n      history.push(\"/home\");\r\n    }\r\n    setSideImageSize(document.getElementById(\"navbar\").clientHeight + 50);\r\n  }, []);\r\n\r\n  const handleSubmit = async () => {\r\n    // Handle submit of player information\r\n    try {\r\n      // make the account post\r\n      const r = await toffy.post(\"/signup\", state);\r\n      // account creation successful\r\n\r\n      // Tell Context user has logged in\r\n      handleUserLogin(r.data);\r\n\r\n      // Push the user to the home screen\r\n      history.push(\"/home\");\r\n    } catch (error) {\r\n      showToast(\"error\", error.response.data.error);\r\n    }\r\n  };\r\n\r\n  const handleInputChange = (event, type) => {\r\n    dispatch({ type, payload: event.target.value });\r\n  };\r\n\r\n  const imageCoverStyle = {\r\n    backgroundSize: \"cover\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundPosition: `${windowWidth > 650 ? \"center\" : \"top\"} center`,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid>\r\n        <Grid.Row>\r\n          <Grid.Column\r\n            computer={6}\r\n            largeScreen={6}\r\n            mobile={16}\r\n            widescreen={6}\r\n            tablet={6}\r\n            width={6}\r\n          >\r\n            <div\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                backgroundColor: \"lavender\",\r\n                display: \"flex\",\r\n                minHeight:\r\n                  windowWidth > 650\r\n                    ? windowHeight - sideImageSize\r\n                    : windowHeight / 4,\r\n                ...imageCoverStyle,\r\n                backgroundImage: `url(${topImage})`,\r\n              }}\r\n              className=\"fade-image\"\r\n            />\r\n          </Grid.Column>\r\n          <Grid.Column\r\n            computer={10}\r\n            largeScreen={10}\r\n            mobile={16}\r\n            widescreen={10}\r\n            tablet={10}\r\n            width={10}\r\n          >\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <Container text style={{ padding: `0px ${windowWidth / 15}px` }}>\r\n                <Header inverted style={{ fontSize: 16 + windowWidth / 60 }}>\r\n                  <Header.Content>\r\n                    Sign Up\r\n                    <Header.Subheader>\r\n                      Get started today, by entering you details below.\r\n                    </Header.Subheader>\r\n                  </Header.Content>\r\n                </Header>\r\n                <Divider section />\r\n                <div>\r\n                  <div>\r\n                    <Input\r\n                      placeholder=\"Username\"\r\n                      onChange={(event) => {\r\n                        handleInputChange(event, \"change_username\");\r\n                      }}\r\n                      value={state.username}\r\n                      className=\"settingInput\"\r\n                      fluid\r\n                    />\r\n                  </div>\r\n                  <Divider hidden />\r\n                  <div>\r\n                    <Input\r\n                      placeholder=\"Firstname\"\r\n                      onChange={(event) => {\r\n                        handleInputChange(event, \"change_firstname\");\r\n                      }}\r\n                      value={state.firstname}\r\n                      className=\"settingInput\"\r\n                      fluid\r\n                    />\r\n                  </div>\r\n\r\n                  <Divider hidden />\r\n                  <div>\r\n                    <Input\r\n                      placeholder=\"Lastname\"\r\n                      onChange={(event) => {\r\n                        handleInputChange(event, \"change_lastname\");\r\n                      }}\r\n                      value={state.lastname}\r\n                      className=\"settingInput\"\r\n                      fluid\r\n                    />\r\n                  </div>\r\n\r\n                  <Divider hidden />\r\n                  <div>\r\n                    <Input\r\n                      placeholder=\"Email\"\r\n                      onChange={(event) => {\r\n                        handleInputChange(event, \"change_email\");\r\n                      }}\r\n                      value={state.email}\r\n                      className=\"settingInput\"\r\n                      fluid\r\n                    />\r\n                  </div>\r\n\r\n                  <Divider hidden />\r\n                  <div>\r\n                    <Input\r\n                      placeholder=\"Password\"\r\n                      onChange={(event) => {\r\n                        handleInputChange(event, \"change_password\");\r\n                      }}\r\n                      value={state.password}\r\n                      className=\"settingInput\"\r\n                      fluid\r\n                      type=\"password\"\r\n                    />\r\n                  </div>\r\n\r\n                  <Divider hidden />\r\n                  <div>\r\n                    <a\r\n                      onClick={() => {\r\n                        history.push(\"/login\");\r\n                      }}\r\n                    >\r\n                      Already have a account?\r\n                    </a>\r\n                  </div>\r\n                  <Divider section={windowWidth > 650} />\r\n                  <Button\r\n                    size={windowWidth > 650 ? \"huge\" : \"large\"}\r\n                    fluid\r\n                    onClick={handleSubmit}\r\n                    color=\"orange\"\r\n                  >\r\n                    CREATE ACCOUNT\r\n                  </Button>\r\n                </div>\r\n              </Container>\r\n            </div>\r\n          </Grid.Column>\r\n        </Grid.Row>\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\n\r\nimport { Button, Container, Segment } from \"semantic-ui-react\";\r\n\r\nimport toffy from \"../../../api/toffy\";\r\n\r\nimport { LoggedInContext } from \"../../../context/LoggedInContext\";\r\nimport { ToastContext } from \"../../../context/ToastContext\";\r\n\r\nexport default function UserPlayingButtonGroup({\r\n  tournamentData,\r\n  getTournamentData,\r\n}) {\r\n  const { players, state, _id } = tournamentData;\r\n\r\n  const { user_id } = useContext(LoggedInContext);\r\n\r\n  const { showToast } = useContext(ToastContext);\r\n\r\n  const handlePlayerJoin = async () => {\r\n    //   Handle the user wanting to join the tournament\r\n    try {\r\n      const r = await toffy.post(`/tournament/${_id}/join`);\r\n      await getTournamentData();\r\n    } catch (error) {\r\n      // : player failed to join\r\n      showToast(\"error\", \"Failed to join tournament.\");\r\n    }\r\n  };\r\n\r\n  const handlePlayerLeave = async () => {\r\n    //   Handle the player wanting to leave the tournament\r\n    try {\r\n      const r = await toffy.delete(`/tournament/${_id}/leave`);\r\n      await getTournamentData();\r\n    } catch (error) {\r\n      // : player failed to leave the tournament\r\n      showToast(\"error\", \"Failed to leave tournament.\");\r\n    }\r\n  };\r\n\r\n  const checkIfUserInsidePlayers = () => {\r\n    // This function returns true if the player is playing in the tournament\r\n    for (let i = 0; i < players.length; i++) {\r\n      const player = players[i];\r\n      if (player._id === user_id) {\r\n        return true;\r\n      }\r\n    }\r\n  };\r\n\r\n  if (state === \"Joining\") {\r\n    return checkIfUserInsidePlayers() ? (\r\n      <Button negative onClick={handlePlayerLeave}>\r\n        Leave\r\n      </Button>\r\n    ) : (\r\n      <Button positive onClick={handlePlayerJoin}>\r\n        Join\r\n      </Button>\r\n    );\r\n  } else {\r\n    //   Tournament is either in playing or ending\r\n    return null;\r\n  }\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Divider,\r\n  Form,\r\n  Header,\r\n  Input,\r\n  Segment,\r\n  TextArea,\r\n} from \"semantic-ui-react\";\r\n\r\nimport toffy from \"../../../api/toffy\";\r\n\r\nimport { states } from \"../TournamentConfig\";\r\n\r\nimport { ToastContext } from \"../../../context/ToastContext\";\r\n\r\nexport default function AdminTools({ tournament, getTournamentData }) {\r\n  const [tournamentTitle, setTournamentTitle] = useState(tournament.title);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [tournamentDescription, setTournamentDescription] = useState(\r\n    tournament.description\r\n  );\r\n\r\n  const { showToast } = useContext(ToastContext);\r\n\r\n  const handleTournamentProgress = async () => {\r\n    // Handle the user wanting to progress the tournament\r\n    try {\r\n      const r = await toffy.post(`/tournament/${tournament._id}/progress`);\r\n      await getTournamentData();\r\n    } catch (error) {\r\n      // : handle the progression on fail\r\n      showToast(\"error\", \"Tournament progression failed.\");\r\n    }\r\n  };\r\n\r\n  const handleTournamentUpdate = async () => {\r\n    // Handle patching the tournament\r\n    setLoading(true);\r\n    let updateObj = {\r\n      ...(tournamentTitle ? { title: tournamentTitle } : null),\r\n      ...(tournamentDescription\r\n        ? { description: tournamentDescription }\r\n        : null),\r\n    };\r\n\r\n    try {\r\n      // Send the update off\r\n      await toffy.patch(`/tournament/${tournament._id}`, updateObj);\r\n\r\n      // Update the tournament information\r\n      await getTournamentData();\r\n    } catch (error) {\r\n      //  : failed updating the tournament\r\n      showToast(\"error\", \"Failed update, try again later.\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <Segment.Group>\r\n      <Divider hidden />\r\n      <Segment basic>\r\n        <Header style={{ color: \"lightgrey\" }} as=\"h2\">\r\n          <Header.Content>\r\n            Settings\r\n            <Header.Subheader style={{ color: \"lightgrey\" }}>\r\n              Manage aspects of the tournament.\r\n            </Header.Subheader>\r\n          </Header.Content>\r\n        </Header>\r\n      </Segment>\r\n\r\n      <Divider />\r\n\r\n      <Segment.Group horizontal>\r\n        <Segment basic>\r\n          <div style={{ marginBottom: 15, padding: 5 }}>\r\n            <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n              <Header.Content>Tournament title</Header.Content>\r\n            </Header>\r\n            <Input\r\n              onChange={(event, data) => {\r\n                setTournamentTitle(data.value);\r\n              }}\r\n              fluid\r\n              value={tournamentTitle}\r\n              className=\"settingInput\"\r\n            />\r\n            <div className=\"settingLabel\">\r\n              remember to keep the tournament title simple and searchable, don't\r\n              include any bad words :(\r\n            </div>\r\n          </div>\r\n          <div style={{ marginBottom: 15, padding: 5 }}>\r\n            <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n              <Header.Content>Tournament Description</Header.Content>\r\n            </Header>\r\n            <Form>\r\n              <TextArea\r\n                rows={\r\n                  tournamentDescription.split(\"\\n\").length > 10\r\n                    ? 11\r\n                    : tournamentDescription.split(\"\\n\").length + 1\r\n                }\r\n                onChange={(event, data) => {\r\n                  setTournamentDescription(data.value);\r\n                }}\r\n                value={tournamentDescription}\r\n                className=\"settingTextArea\"\r\n              />\r\n            </Form>\r\n            <div className=\"settingLabel\">\r\n              describe your tournament and include any rules that players might\r\n              need to read\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ marginBottom: 15, padding: 5 }}>\r\n            <Button onClick={handleTournamentUpdate} primary loading={loading}>\r\n              Update Tournament\r\n            </Button>\r\n            <div className=\"settingLabel\">\r\n              update any changes to the tournament title or description\r\n            </div>\r\n          </div>\r\n\r\n          <Divider section />\r\n\r\n          <div style={{ marginBottom: 15, padding: 5 }}>\r\n            <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n              <Header.Content>Tournament Progression</Header.Content>\r\n            </Header>\r\n            <Button\r\n              onClick={handleTournamentProgress}\r\n              disabled={tournament.state === states.END}\r\n              color={\r\n                tournament.state === states.JOIN\r\n                  ? \"green\"\r\n                  : tournament.state === states.PLAY\r\n                  ? \"red\"\r\n                  : \"\"\r\n              }\r\n            >\r\n              {tournament.state === states.JOIN\r\n                ? \"Start Tournament\"\r\n                : tournament.state === states.PLAY\r\n                ? \"End Tournament\"\r\n                : \"Tournament Finished\"}\r\n            </Button>\r\n            {/* <TournamentStateDisplayGroup tournament={tournament} /> */}\r\n            <div className=\"settingLabel\">\r\n              you can progress the tournament here\r\n            </div>\r\n          </div>\r\n        </Segment>\r\n\r\n        <Segment></Segment>\r\n      </Segment.Group>\r\n    </Segment.Group>\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport { useDrag } from \"react-dnd\";\r\n\r\nimport { TournamentContext } from \"../TournamentBracketSegment\";\r\n\r\nexport default function Player({\r\n  ThisX,\r\n  ThisY,\r\n  matchId,\r\n  playerData,\r\n  width,\r\n  height,\r\n  winner,\r\n}) {\r\n  const { isAdmin } = useContext(TournamentContext);\r\n  const { score, player } = playerData;\r\n\r\n  return (\r\n    <g>\r\n      {/* Text and Score Background */}\r\n      <rect\r\n        x={ThisX}\r\n        y={ThisY}\r\n        width={width}\r\n        height={height / 2}\r\n        style={{ fill: \"#58595e\" }}\r\n      />\r\n\r\n      {/* Username Text */}\r\n      <text\r\n        style={{\r\n          fontSize: 14,\r\n          fontWeight: \"bold\",\r\n          fill: \"white\",\r\n          filter: \"drop-shadow( 3px 3px 2px rgba(0, 0, 0, .7))\",\r\n        }}\r\n        x={ThisX + 10}\r\n        y={ThisY + 20}\r\n      >\r\n        {player ? player.username : null}\r\n      </text>\r\n\r\n      {winner ? (\r\n        <g>\r\n          {/* Score container */}\r\n          <rect\r\n            x={ThisX + width - 35}\r\n            y={ThisY}\r\n            width={35}\r\n            height={height / 2}\r\n            style={{ fill: winner._id === player._id ? \"#ff741f\" : \"#77777f\" }}\r\n          />\r\n\r\n          {/* Score Text */}\r\n          <text\r\n            style={{\r\n              fontSize: 14,\r\n              fontWeight: \"normal\",\r\n              fill: \"black\",\r\n              filter: \"drop-shadow( 1px 1px 1px rgba(0, 0, 0, .7))\",\r\n            }}\r\n            x={ThisX + width - (17 + `${player ? score: \"\"}`.toString().length * 4)}\r\n            y={ThisY + height / 3}\r\n          >\r\n            {player ? score : null}\r\n          </text>\r\n        </g>\r\n      ) : null}\r\n    </g>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function edit({ height, width, x, y, color, onClick }) {\r\n  // This function returns a SVG image, that looks like a editing symbol\r\n  return (\r\n    <svg\r\n      onClick={onClick}\r\n      x={x}\r\n      y={y}\r\n      height={`${height}pt`}\r\n      viewBox=\"0 -1 401.52289 401\"\r\n      width={`${width}pt`}\r\n      style={{\r\n        fill: color,\r\n        filter: \"drop-shadow( 5px 5px 5px rgba(0, 0, 0, 1))\",\r\n      }}\r\n    >\r\n      <path d=\"m370.589844 250.972656c-5.523438 0-10 4.476563-10 10v88.789063c-.019532 16.5625-13.4375 29.984375-30 30h-280.589844c-16.5625-.015625-29.980469-13.4375-30-30v-260.589844c.019531-16.558594 13.4375-29.980469 30-30h88.789062c5.523438 0 10-4.476563 10-10 0-5.519531-4.476562-10-10-10h-88.789062c-27.601562.03125-49.96875 22.398437-50 50v260.59375c.03125 27.601563 22.398438 49.96875 50 50h280.589844c27.601562-.03125 49.96875-22.398437 50-50v-88.792969c0-5.523437-4.476563-10-10-10zm0 0\" />\r\n      <path d=\"m376.628906 13.441406c-17.574218-17.574218-46.066406-17.574218-63.640625 0l-178.40625 178.40625c-1.222656 1.222656-2.105469 2.738282-2.566406 4.402344l-23.460937 84.699219c-.964844 3.472656.015624 7.191406 2.5625 9.742187 2.550781 2.546875 6.269531 3.527344 9.742187 2.566406l84.699219-23.464843c1.664062-.460938 3.179687-1.34375 4.402344-2.566407l178.402343-178.410156c17.546875-17.585937 17.546875-46.054687 0-63.640625zm-220.257812 184.90625 146.011718-146.015625 47.089844 47.089844-146.015625 146.015625zm-9.40625 18.875 37.621094 37.625-52.039063 14.417969zm227.257812-142.546875-10.605468 10.605469-47.09375-47.09375 10.609374-10.605469c9.761719-9.761719 25.589844-9.761719 35.351563 0l11.738281 11.734375c9.746094 9.773438 9.746094 25.589844 0 35.359375zm0 0\" />\r\n    </svg>\r\n  );\r\n}\r\n","import Player from \"./Player\";\r\n\r\nimport { TournamentContext } from \"../TournamentBracketSegment\";\r\nimport { useContext } from \"react\";\r\n\r\nimport Edit from \"../../../../img/edit\";\r\n\r\nexport default function Match({ ThisX, ThisY, match, width, height }) {\r\n  const polylineStyle = { fill: \"none\", stroke: \"black\", strokeWidth: 1 };\r\n  const { isAdmin, changeSelectedMatch, inProgress } = useContext(\r\n    TournamentContext\r\n  );\r\n\r\n  const isEditable =\r\n    !match.winner &&\r\n    isAdmin &&\r\n    match.player1.player &&\r\n    match.player2.player &&\r\n    inProgress;\r\n\r\n  const displayMatchId = false;\r\n\r\n  return (\r\n    <g>\r\n      {/* Player Top */}\r\n      <Player\r\n        width={width}\r\n        height={height}\r\n        ThisX={ThisX}\r\n        ThisY={ThisY}\r\n        winner={match.winner}\r\n        playerData={match.player1}\r\n        matchId={match.match_id}\r\n      />\r\n\r\n      {/* Player Bottom */}\r\n      <Player\r\n        width={width}\r\n        height={height}\r\n        ThisX={ThisX}\r\n        ThisY={ThisY + height / 2}\r\n        winner={match.winner}\r\n        playerData={match.player2}\r\n        matchId={match.match_id}\r\n      />\r\n\r\n      {/* Line Between Players */}\r\n      <polyline\r\n        points={`\r\n          ${ThisX},${ThisY + 30} \r\n          ${isEditable ? `${ThisX + width * 0.75}` : `${ThisX + width}`},${\r\n          ThisY + 30\r\n        }\r\n        `}\r\n        style={polylineStyle}\r\n      />\r\n\r\n      {/* Match Editing button for admins */}\r\n      {isEditable ? (\r\n        <g>\r\n          <rect\r\n            pointer-events=\"visible\"\r\n            style={{ fill: \"none\" }}\r\n            onClick={() => {\r\n              changeSelectedMatch(match);\r\n            }}\r\n            height={34}\r\n            width={35}\r\n            x={ThisX + width - 43}\r\n            y={ThisY + 14}\r\n          />\r\n          <Edit\r\n            color={\"#2a303f\"}\r\n            height={22}\r\n            width={22}\r\n            x={ThisX + width - 40}\r\n            y={ThisY + 15}\r\n          />\r\n        </g>\r\n      ) : null}\r\n\r\n      {/* Match Id text */}\r\n      {displayMatchId ? (\r\n        <>\r\n          <circle\r\n            cx={ThisX - 4}\r\n            cy={ThisY - 4}\r\n            r={14}\r\n            style={{ fill: \"lightgreen\" }}\r\n          />\r\n          <text x={ThisX - 8} y={ThisY}>\r\n            {match.match_id}\r\n          </text>\r\n          <circle\r\n            cx={ThisX + width}\r\n            cy={ThisY - 4}\r\n            r={14}\r\n            style={{ fill: \"pink\" }}\r\n          />\r\n          <text x={ThisX + width - 4} y={ThisY}>\r\n            {match.next_match_id}\r\n          </text>\r\n        </>\r\n      ) : null}\r\n    </g>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport Match from \"./Match\";\r\n\r\nexport default function Round({ roundData, roundIndex, tournamentMatchData }) {\r\n  const polylineStyle = { fill: \"none\", stroke: \"white\", strokeWidth: 4 };\r\n  const MatchHeight = 60;\r\n  const MatchWidth = 225;\r\n  const distanceBetweenRounds = 80;\r\n  const paddingBetweenMatches = 15;\r\n  return (\r\n    <g>\r\n      {roundData.matches.map((matchData, matchIndex) => {\r\n        const ThisX = roundIndex * (distanceBetweenRounds + MatchWidth);\r\n\r\n        const dynamicViewSpace =\r\n          paddingBetweenMatches * Math.pow(2, roundData.round + 2);\r\n\r\n        const paddingFromTop =\r\n          MatchHeight * ((Math.pow(2, roundData.round) - 2) / 2);\r\n\r\n        const distanceBetweenMatches = dynamicViewSpace * matchIndex;\r\n\r\n        const ThisY = paddingFromTop + distanceBetweenMatches;\r\n\r\n        return (\r\n          <g>\r\n            <Match\r\n              width={MatchWidth}\r\n              height={MatchHeight}\r\n              match={matchData}\r\n              ThisX={ThisX}\r\n              ThisY={ThisY}\r\n            />\r\n            {matchIndex % 2 === 0 &&\r\n            roundData.round !== tournamentMatchData.length ? (\r\n              <polyline\r\n                points={`\r\n                    ${ThisX + MatchWidth + 5},${ThisY + MatchHeight / 2} \r\n                    ${ThisX + MatchWidth + distanceBetweenRounds / 2},${\r\n                  ThisY + MatchHeight / 2\r\n                } \r\n                    ${ThisX + MatchWidth + distanceBetweenRounds / 2},${\r\n                  ThisY + dynamicViewSpace * 1 + MatchHeight / 2\r\n                } \r\n                    ${ThisX + MatchWidth + 5},${\r\n                  ThisY + dynamicViewSpace * 1 + MatchHeight / 2\r\n                }\r\n                `}\r\n                style={polylineStyle}\r\n              />\r\n            ) : null}\r\n            {roundData.round !== 1 ? (\r\n              <polyline\r\n                points={`\r\n                    ${ThisX - 5},${ThisY + MatchHeight / 2} \r\n                    ${ThisX - distanceBetweenRounds / 2},${\r\n                  ThisY + MatchHeight / 2\r\n                }\r\n                `}\r\n                style={polylineStyle}\r\n              />\r\n            ) : null}\r\n          </g>\r\n        );\r\n      })}\r\n    </g>\r\n  );\r\n}\r\n","import React, {\r\n  useRef,\r\n  useEffect,\r\n  createContext,\r\n  useState,\r\n  useReducer,\r\n  useContext,\r\n} from \"react\";\r\n\r\nimport { Divider, Grid, Header, Modal, Button, Input } from \"semantic-ui-react\";\r\n\r\nimport { ToastContext } from \"../../../../context/ToastContext\";\r\nimport { WindowContext } from \"../../../../context/WindowContext\";\r\n\r\nimport { TOOL_AUTO, UncontrolledReactSVGPanZoom } from \"react-svg-pan-zoom\";\r\n\r\nimport Round from \"./components/Round\";\r\n\r\nimport toffy from \"../../../../api/toffy\";\r\n\r\nexport const TournamentContext = createContext();\r\n\r\nconst matchReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"change_player1Selected\":\r\n      return { ...state, player1Selected: true, player2Selected: false };\r\n    case \"change_player2Selected\":\r\n      return { ...state, player2Selected: true, player1Selected: false };\r\n    case \"change_player1Score\":\r\n      return { ...state, player1Score: action.payload };\r\n    case \"change_player2Score\":\r\n      return { ...state, player2Score: action.payload };\r\n    case \"reset\":\r\n      return {\r\n        player1Selected: false,\r\n        player2Selected: false,\r\n        player1Score: 0,\r\n        player2Score: 0,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function RobinRoundDisplay({\r\n  match_data,\r\n  isAdmin,\r\n  tournament_id,\r\n  getTournamentData,\r\n  inProgress,\r\n}) {\r\n  const Viewer = useRef(null);\r\n  const { windowHeight } = useContext(WindowContext);\r\n  const { showToast } = useContext(ToastContext);\r\n\r\n  const [state, dispatch] = useReducer(matchReducer, {\r\n    player1Selected: false,\r\n    player2Selected: false,\r\n    player1Score: 0,\r\n    player2Score: 0,\r\n  });\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [modelMatch, setModelMatch] = useState(null);\r\n\r\n  const changeSelectedMatch = (Match) => {\r\n    setModelMatch(Match);\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleInputChange = (event, data) => {\r\n    dispatch({ type: `change_${data.name}`, payload: parseInt(data.value) });\r\n  };\r\n\r\n  const UpdateMatchDetails = async () => {\r\n    try {\r\n      const r = await toffy.patch(\r\n        `/tournament/${tournament_id}/match/${modelMatch._id}`,\r\n        {\r\n          winner: state.player1Selected\r\n            ? \"player1\"\r\n            : state.player2Selected\r\n            ? \"player2\"\r\n            : null,\r\n          scores: {\r\n            player1: state.player1Score,\r\n            player2: state.player2Score,\r\n          },\r\n        }\r\n      );\r\n\r\n      // Match update is successful\r\n      setOpen(false);\r\n      showToast(\"success\", \"Match updated.\");\r\n      await getTournamentData();\r\n    } catch (error) {\r\n      // : failed match update\r\n      showToast(\"error\", \"Match update failed, try again later.\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    Viewer.current.zoom(150, 150, 0.7);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <TournamentContext.Provider\r\n        value={{ isAdmin, inProgress, changeSelectedMatch }}\r\n      >\r\n        <UncontrolledReactSVGPanZoom\r\n          background=\"#24262e\"\r\n          SVGBackground=\"#24262e\"\r\n          tool={TOOL_AUTO}\r\n          ref={Viewer}\r\n          width=\"100%\"\r\n          height={windowHeight / 2}\r\n          detectAutoPan={false}\r\n          customMiniature={() => {\r\n            return null;\r\n          }}\r\n          customToolbar={() => {\r\n            return null;\r\n          }}\r\n        >\r\n          <svg>\r\n            {match_data.map((roundData, roundIndex) => {\r\n              return (\r\n                <Round\r\n                  roundData={roundData}\r\n                  roundIndex={roundIndex}\r\n                  tournamentMatchData={match_data}\r\n                />\r\n              );\r\n            })}\r\n          </svg>\r\n        </UncontrolledReactSVGPanZoom>\r\n      </TournamentContext.Provider>\r\n\r\n      <Modal\r\n        onClose={() => {\r\n          dispatch({ type: \"reset\" });\r\n          setOpen(false);\r\n        }}\r\n        onOpen={() => setOpen(true)}\r\n        open={open}\r\n      >\r\n        <Modal.Header>Edit Match Details</Modal.Header>\r\n\r\n        {modelMatch ? (\r\n          <Modal.Content>\r\n            <Header textAlign=\"center\" size=\"huge\">\r\n              Who won?\r\n            </Header>\r\n\r\n            <Grid stretched>\r\n              <Grid.Row columns=\"equal\" stretched>\r\n                <Grid.Column>\r\n                  <Button\r\n                    positive={state.player1Selected}\r\n                    onClick={() => {\r\n                      dispatch({\r\n                        type: \"change_player1Selected\",\r\n                      });\r\n                    }}\r\n                  >\r\n                    {modelMatch.player1.player.username}\r\n                  </Button>\r\n                </Grid.Column>\r\n                <Grid.Column width={2}></Grid.Column>\r\n                <Grid.Column>\r\n                  <Button\r\n                    positive={state.player2Selected}\r\n                    onClick={() => {\r\n                      dispatch({\r\n                        type: \"change_player2Selected\",\r\n                      });\r\n                    }}\r\n                  >\r\n                    {modelMatch.player2.player.username}\r\n                  </Button>\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n\r\n              <Divider />\r\n              <Grid.Row columns=\"equal\" stretched>\r\n                <Grid.Column>\r\n                  <Input\r\n                    fluid\r\n                    label=\"Player 1 Score\"\r\n                    type=\"number\"\r\n                    name=\"player1Score\"\r\n                    value={state.player1Score}\r\n                    onChange={handleInputChange}\r\n                  />\r\n                </Grid.Column>\r\n                <Grid.Column width={2}></Grid.Column>\r\n                <Grid.Column>\r\n                  <Input\r\n                    fluid\r\n                    label=\"Player 2 Score\"\r\n                    type=\"number\"\r\n                    min={0}\r\n                    max={9999}\r\n                    name=\"player2Score\"\r\n                    value={state.player2Score}\r\n                    onChange={handleInputChange}\r\n                    labelPosition=\"right\"\r\n                  />\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n            </Grid>\r\n          </Modal.Content>\r\n        ) : null}\r\n\r\n        <Modal.Actions>\r\n          <Button\r\n            negative\r\n            onClick={() => {\r\n              dispatch({ type: \"reset\" });\r\n              setOpen(false);\r\n            }}\r\n          >\r\n            Close\r\n          </Button>\r\n          <Button\r\n            disabled={!state.player2Selected && !state.player1Selected}\r\n            content=\"Save Changes\"\r\n            labelPosition=\"right\"\r\n            icon=\"checkmark\"\r\n            onClick={UpdateMatchDetails}\r\n            positive\r\n          />\r\n        </Modal.Actions>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport {\r\n  Segment,\r\n  Table,\r\n  Header,\r\n  Image,\r\n  Input,\r\n  Button,\r\n  Grid,\r\n  Icon,\r\n} from \"semantic-ui-react\";\r\n\r\nimport toffy from \"../../../../api/toffy\";\r\n\r\nimport { ToastContext } from \"../../../../context/ToastContext\";\r\n\r\nfunction TableRow({ cell1, cell2, cell3, widths }) {\r\n  return (\r\n    <Table.Row>\r\n      <Table.Cell textAlign=\"center\" width={widths[0]}>\r\n        {cell1}\r\n      </Table.Cell>\r\n      <Table.Cell width={widths[1]}>{cell2}</Table.Cell>\r\n      <Table.Cell textAlign=\"center\" width={widths[2]}>\r\n        {cell3}\r\n      </Table.Cell>\r\n    </Table.Row>\r\n  );\r\n}\r\n\r\nfunction LeaderboardTableRow({ player, score, index, tournament_id, history }) {\r\n  const [playerScore, setPlayerScore] = useState(score);\r\n\r\n  const { showToast } = useContext(ToastContext);\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      const r = await toffy.patch(`/update/${tournament_id}/${player._id}`, {\r\n        score: playerScore,\r\n      });\r\n    } catch (error) {\r\n      // : failed saving a user score\r\n      showToast(\"error\", \"Failed to save score, try again later.\");\r\n      setPlayerScore(score);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <TableRow\r\n      widths={[1, 9, 6]}\r\n      cell1={index + 1}\r\n      cell2={\r\n        <Header as=\"h4\" image inverted>\r\n          <Image src={player.profile_pic} rounded size=\"mini\" />\r\n          <Header.Content>\r\n            <a\r\n              onClick={() => {\r\n                history.push(`/u/${player._id}`);\r\n              }}\r\n            >\r\n              {player.username}\r\n            </a>\r\n            <Header.Subheader>elo: {player.elo}</Header.Subheader>\r\n          </Header.Content>\r\n        </Header>\r\n      }\r\n      cell3={\r\n        <Grid stretched>\r\n          <Grid.Row stretched>\r\n            <Grid.Column width={10}>\r\n              <Input\r\n                value={playerScore}\r\n                onChange={(event, data) => {\r\n                  setPlayerScore(data.value);\r\n                }}\r\n                className=\"settingInput\"\r\n                fluid\r\n              />\r\n            </Grid.Column>\r\n            <Grid.Column width={6} textAlign=\"center\">\r\n              <Button onClick={handleSave} positive compact size=\"small\">\r\n                <Icon name=\"save\" />\r\n                Save\r\n              </Button>\r\n            </Grid.Column>\r\n          </Grid.Row>\r\n        </Grid>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default function LeaderboardSegment({\r\n  match_data,\r\n  isAdmin,\r\n  tournament_id,\r\n  getTournamentData,\r\n  settings,\r\n}) {\r\n  let history = useHistory();\r\n\r\n  return (\r\n    <Segment basic>\r\n      <Table inverted striped columns={3} selectable>\r\n        <Table.Header>\r\n          <Table.Row textAlign=\"center\">\r\n            <Table.HeaderCell>Position</Table.HeaderCell>\r\n            <Table.HeaderCell>Player</Table.HeaderCell>\r\n            <Table.HeaderCell>{settings.scoreTitle}</Table.HeaderCell>\r\n          </Table.Row>\r\n        </Table.Header>\r\n        <Table.Body>\r\n          {[...match_data]\r\n            .sort(function compare(a, b) {\r\n              if (a.score < b.score) {\r\n                return -1;\r\n              }\r\n              if (a.score > b.score) {\r\n                return 1;\r\n              }\r\n              return 0;\r\n            })\r\n            .map(({ player, score }, index) => {\r\n              if (isAdmin) {\r\n                return (\r\n                  <LeaderboardTableRow\r\n                    history={history}\r\n                    index={index}\r\n                    tournament_id={tournament_id}\r\n                    player={player}\r\n                    score={score}\r\n                    getTournamentData={getTournamentData}\r\n                  />\r\n                );\r\n              }\r\n              return (\r\n                <TableRow\r\n                  widths={[2, 9, 5]}\r\n                  cell1={index + 1}\r\n                  cell2={\r\n                    <Header as=\"h4\" image inverted>\r\n                      <Image src={player.profile_pic} rounded size=\"mini\" />\r\n                      <Header.Content>\r\n                        <a\r\n                          onClick={() => {\r\n                            history.push(`/u/${player._id}`);\r\n                          }}\r\n                        >\r\n                          {player.username}\r\n                        </a>\r\n                        <Header.Subheader>elo: {player.elo}</Header.Subheader>\r\n                      </Header.Content>\r\n                    </Header>\r\n                  }\r\n                  cell3={score ? score : \"No Score\"}\r\n                />\r\n              );\r\n            })}\r\n        </Table.Body>\r\n      </Table>\r\n    </Segment>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport {\r\n  Segment,\r\n  Divider,\r\n  Header,\r\n  Icon,\r\n  Grid,\r\n  Image,\r\n  Label,\r\n} from \"semantic-ui-react\";\r\n\r\n// TODO: Come back to this and update the look and feel\r\nexport default function TournamentPlayerDisplay({ players, creator }) {\r\n  let history = useHistory();\r\n\r\n  return (\r\n    <>\r\n      {players.length < 1 ? (\r\n        <>\r\n          <Divider section hidden />\r\n          <Segment padded basic textAlign=\"center\" vertical>\r\n            <Header as=\"h1\" icon inverted>\r\n              <Icon name=\"group\" />\r\n              No Players Joined\r\n              <Header.Subheader>be the first to join..</Header.Subheader>\r\n            </Header>\r\n          </Segment>\r\n        </>\r\n      ) : null}\r\n      <Segment basic>\r\n        <Grid stretched>\r\n          {[...players]\r\n            .sort(function compare(a, b) {\r\n              if (a.elo < b.elo) {\r\n                return 1;\r\n              }\r\n              if (a.elo > b.elo) {\r\n                return -1;\r\n              }\r\n              return 0;\r\n            })\r\n            .map((player) => {\r\n              return (\r\n                <Grid.Row stretched verticalAlign=\"middle\">\r\n                  <Grid.Column width={1}>\r\n                    <Image rounded src={player.profile_pic} fluid />\r\n                  </Grid.Column>\r\n                  <Grid.Column width={15}>\r\n                    <Header\r\n                      inverted\r\n                      as=\"a\"\r\n                      onClick={() => {\r\n                        history.push(`/u/${player._id}`);\r\n                      }}\r\n                    >\r\n                      {player.username}{\" \"}\r\n                      <Label basic horizontal>\r\n                        <Icon name=\"gem\" />\r\n                        {player.elo}\r\n                      </Label>\r\n                      {creator._id === player._id ? (\r\n                        <small> - you </small>\r\n                      ) : null}\r\n                    </Header>\r\n                  </Grid.Column>\r\n                </Grid.Row>\r\n              );\r\n            })}\r\n        </Grid>\r\n      </Segment>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport { Menu, Icon } from \"semantic-ui-react\";\r\n\r\nexport default function TournamentMenu({ isAdmin, _id, view }) {\r\n  let history = useHistory();\r\n  return (\r\n    <Menu\r\n      id=\"tournamentMenu\"\r\n      pointing\r\n      secondary\r\n      inverted\r\n      style={{ fontSize: 16, marginTop: 15 }}\r\n    >\r\n      {[\r\n        { name: \"Bracket\", view: undefined, icon: null },\r\n        { name: \"Players\", view: \"players\", icon: null },\r\n        isAdmin\r\n          ? {\r\n              name: \"Settings\",\r\n              view: \"settings\",\r\n              icon: (\r\n                <Icon size=\"small\" style={{ color: \"white\" }} name=\"unlock\" />\r\n              ),\r\n            }\r\n          : null,\r\n      ].map((menuItem) => {\r\n        if (!menuItem) {\r\n          return null;\r\n        }\r\n        return (\r\n          <Menu.Item\r\n            as=\"a\"\r\n            onClick={() => {\r\n              history.push(\r\n                `/tournament/${_id}${menuItem.view ? `/${menuItem.view}` : \"\"}`\r\n              );\r\n            }}\r\n            active={view === menuItem.view}\r\n            icon={menuItem.icon ? menuItem.icon : null}\r\n            name={menuItem.name}\r\n          />\r\n        );\r\n      })}\r\n    </Menu>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport calculateCreated, {\r\n  displayDate,\r\n  displayState,\r\n} from \"../functions/calculateCreated\";\r\n\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Divider,\r\n  Grid,\r\n  Header,\r\n  Icon,\r\n  Image,\r\n  Label,\r\n  List,\r\n  Menu,\r\n  Segment,\r\n  Tab,\r\n} from \"semantic-ui-react\";\r\n\r\nimport toffy from \"../api/toffy\";\r\n\r\nimport UserPlayingButtonGroup from \"../components/Tournament/TournamentControls/UserPlayingButtonGroup\";\r\nimport AdminTools from \"../components/Tournament/AdministrationTools/AdminTools\";\r\n\r\nimport TournamentBracketSegment from \"../components/Tournament/TournamentDisplays/SingleElimination/TournamentBracketSegment\";\r\nimport LeaderboardSegment from \"../components/Tournament/TournamentDisplays/LeaderBoard/LeaderboardSegment\";\r\n\r\nimport {\r\n  tournament_types,\r\n  states,\r\n} from \"../components/Tournament/TournamentConfig\";\r\n\r\nimport TournamentPlayerDisplay from \"../components/Tournament/TournamentDisplays/TournamentPlayerDisplay\";\r\nimport TournamentMenu from \"../components/Tournament/TournamentMenu\";\r\n\r\nimport { WindowContext } from \"../context/WindowContext\";\r\nimport { ToastContext } from \"../context/ToastContext\";\r\n\r\nexport default function TournamentScreen() {\r\n  let { _id, view } = useParams();\r\n\r\n  let history = useHistory();\r\n\r\n  const { windowWidth, windowHeight } = useContext(WindowContext);\r\n  const { showToast } = useContext(ToastContext);\r\n\r\n  const [result, setResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getTournamentData();\r\n  }, []);\r\n\r\n  const MatchDataDisplayComponent = (type, match_data, isAdmin) => {\r\n    // This determines which tournament display to use: TD5\r\n    if (result.match_data === undefined || result.match_data.length === 0) {\r\n      return (\r\n        <>\r\n          <Divider section hidden />\r\n          <Segment padded basic textAlign=\"center\" vertical>\r\n            <Header as=\"h1\" icon inverted>\r\n              <Icon name=\"trophy\" />\r\n              Match has not started\r\n              <Header.Subheader>\r\n                Waiting for the admin to start.\r\n              </Header.Subheader>\r\n            </Header>\r\n          </Segment>\r\n        </>\r\n      );\r\n    }\r\n    if (type === tournament_types.SINGLE_ELIMINATION) {\r\n      return (\r\n        <TournamentBracketSegment\r\n          getTournamentData={getTournamentData}\r\n          tournament_id={result._id}\r\n          match_data={match_data}\r\n          isAdmin={isAdmin}\r\n          inProgress={result.state === states.PLAY}\r\n        />\r\n      );\r\n    } else if (type === tournament_types.LEADERBOARD) {\r\n      // If tournament type is a leaderboard\r\n      return (\r\n        <LeaderboardSegment\r\n          getTournamentData={getTournamentData}\r\n          tournament_id={result._id}\r\n          match_data={match_data}\r\n          isAdmin={isAdmin}\r\n          settings={result.settings}\r\n          inProgress={result.state === states.PLAY}\r\n        />\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  const checkTournamentView = (v) => {\r\n    return v === view;\r\n  };\r\n\r\n  const getTournamentData = async () => {\r\n    // This function gathers the tournament information\r\n    try {\r\n      const t = await toffy.get(`/tournament/${_id}`);\r\n      setResult(t.data);\r\n    } catch (error) {\r\n      // : Failed getting the tournament information\r\n      showToast(\"error\", \"Tournament doesn't exist.\");\r\n\r\n      // Send the user back to home screen\r\n      history.push(\"/home\");\r\n    }\r\n  };\r\n\r\n  if (result && view === \"settings\" && !result.isAdmin) {\r\n    // User has tried to enter the settings screen but is not the admin\r\n    history.push(`/tournament/${_id}`);\r\n  }\r\n\r\n  if (!result) {\r\n    // result is null\r\n    return <div>Loading</div>;\r\n  } else {\r\n    return (\r\n      <>\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            height: windowHeight / 7,\r\n            background: \"rgb(235,212,217)\",\r\n            background:\r\n              \"linear-gradient(90deg, rgba(235,212,217,1) 14%, rgba(245,111,235,1) 71%, rgba(255,0,254,1) 100%)\",\r\n          }}\r\n        />\r\n\r\n        {/* This displays the title, type, creation time, desc and join/leave buttons in a sub component */}\r\n        <div\r\n          style={{ backgroundColor: \"#3d4351\", padding: \"20px 0px 0px 0px\" }}\r\n        >\r\n          <Container>\r\n            <Grid doubling stackable>\r\n              <Grid.Row>\r\n                <Grid.Column width={13}>\r\n                  <Segment.Group>\r\n                    <Segment.Group horizontal>\r\n                      <Segment basic style={{ backgroundColor: \"transparent\" }}>\r\n                        <Header as=\"h1\" inverted>\r\n                          {result.title}\r\n                        </Header>\r\n                      </Segment>\r\n                      <Segment\r\n                        basic\r\n                        style={{ backgroundColor: \"transparent\" }}\r\n                        textAlign=\"right\"\r\n                      >\r\n                        <UserPlayingButtonGroup\r\n                          getTournamentData={getTournamentData}\r\n                          tournamentData={result}\r\n                        />\r\n                      </Segment>\r\n                    </Segment.Group>\r\n                    <Segment.Group horizontal={windowWidth > 758}>\r\n                      {[\r\n                        {\r\n                          title: `${result.players.length} Player${\r\n                            result.players.length === 1 ? \"\" : \"s\"\r\n                          }`,\r\n                          icon: \"user\",\r\n                        },\r\n                        { title: result.type, icon: \"trophy\" },\r\n                        {\r\n                          title: displayState(result.state),\r\n                          icon: \"game\",\r\n                        },\r\n                        {\r\n                          title: displayDate(result.created),\r\n                          icon: \"calendar\",\r\n                        },\r\n                      ].map((value) => {\r\n                        return (\r\n                          <Segment basic textAlign=\"left\">\r\n                            <Header inverted size=\"tiny\">\r\n                              <Icon size=\"tiny\" fitted name={value.icon} />\r\n                              <Header.Content style={{ fontSize: 12 }}>\r\n                                {value.title}\r\n                              </Header.Content>\r\n                            </Header>\r\n                          </Segment>\r\n                        );\r\n                      })}\r\n                    </Segment.Group>\r\n                  </Segment.Group>\r\n                </Grid.Column>\r\n                <Grid.Column width={3}>\r\n                  <Segment\r\n                    basic\r\n                    style={{\r\n                      display: \"flex\",\r\n                      height: \"100%\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                  >\r\n                    <Header as=\"h2\" inverted textAlign=\"left\">\r\n                      <Image circular src={result.creator.profile_pic} />\r\n                      <Header.Content>\r\n                        <Header.Subheader>\r\n                          <div style={{ color: \"white\", fontSize: 14 }}>\r\n                            Organized by\r\n                          </div>\r\n                          <a\r\n                            onClick={() => {\r\n                              history.push(`/u/${result.creator._id}`);\r\n                            }}\r\n                            style={{\r\n                              color: \"orange\",\r\n                              fontWeight: \"900\",\r\n                              textDecoration: \"underline\",\r\n                            }}\r\n                          >\r\n                            {result.creator.username}\r\n                          </a>\r\n                        </Header.Subheader>\r\n                      </Header.Content>\r\n                    </Header>\r\n                  </Segment>\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n            </Grid>\r\n          </Container>\r\n          <Container>\r\n            <TournamentMenu isAdmin={result.isAdmin} _id={_id} view={view} />\r\n          </Container>\r\n        </div>\r\n\r\n        <Container>\r\n          {/* Administrator tools for the creator */}\r\n          {checkTournamentView(\"settings\") ? (\r\n            result.isAdmin ? (\r\n              <AdminTools\r\n                tournament={result}\r\n                getTournamentData={getTournamentData}\r\n              />\r\n            ) : null\r\n          ) : null}\r\n\r\n          {/* Display the match data to the user */}\r\n          {checkTournamentView(undefined)\r\n            ? MatchDataDisplayComponent(\r\n                result.type,\r\n                result.match_data,\r\n                result.isAdmin\r\n              )\r\n            : null}\r\n\r\n          {/* This displays the players in a grid */}\r\n          {checkTournamentView(\"players\") ? (\r\n            <TournamentPlayerDisplay\r\n              players={result.players}\r\n              creator={result.creator}\r\n            />\r\n          ) : null}\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { createRef, useEffect, useState } from \"react\";\r\n\r\nimport { Grid } from \"semantic-ui-react\";\r\n\r\nimport Chart from \"chart.js/auto\";\r\n\r\nexport default function ChartSegment({\r\n  userData,\r\n  id,\r\n  itemLeft,\r\n  itemRight,\r\n  centerItem,\r\n}) {\r\n  const chartRef = createRef();\r\n  const [chartInstance, setChartInstance] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (chartRef.current && userData) {\r\n      const myTournamentChartRef = chartRef.current.getContext(\"2d\");\r\n      const data = {\r\n        labels: [itemLeft.title, itemRight.title],\r\n        datasets: [\r\n          {\r\n            label: `${itemLeft.title}/${itemRight.title}`,\r\n            data: [itemLeft.value, itemRight.value],\r\n            backgroundColor: [itemLeft.color, itemRight.color],\r\n            hoverOffset: 0,\r\n          },\r\n        ],\r\n      };\r\n\r\n      const config = {\r\n        type: \"doughnut\",\r\n        options: {\r\n          plugins: {\r\n            legend: {\r\n              display: false,\r\n            },\r\n          },\r\n          cutout: \"80%\",\r\n        },\r\n        data: data,\r\n      };\r\n\r\n      if (chartInstance) {\r\n        // Chart has already been initialized, update it rather than create a new one\r\n        chartInstance.data = data;\r\n        chartInstance.update();\r\n      } else {\r\n        // Chart is being initialized for the first time\r\n        setChartInstance(new Chart(myTournamentChartRef, config));\r\n      }\r\n    }\r\n  }, [userData]);\r\n  return (\r\n    <Grid>\r\n      <Grid.Row columns=\"equal\">\r\n        <Grid.Column>\r\n          <canvas ref={chartRef} />\r\n          {centerItem != null ? (\r\n            <div\r\n              style={{\r\n                textAlign: \"center\",\r\n                position: \"absolute\",\r\n                top: \"50%\",\r\n                bottom: \"50%\",\r\n                left: \"50%\",\r\n                right: \"50%\",\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <div>\r\n                <div\r\n                  style={{\r\n                    fontSize: 30,\r\n                    padding: 10,\r\n                    fontWeight: \"bolder\",\r\n                  }}\r\n                >\r\n                  {centerItem.top}\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    fontSize: 14,\r\n                    marginTop: 2,\r\n                    color: \"grey\",\r\n                  }}\r\n                >\r\n                  {centerItem.bottom}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n        </Grid.Column>\r\n        <Grid.Column>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              height: \"100%\",\r\n              alignItems: \"center\",\r\n              width: \"100%\",\r\n            }}\r\n          >\r\n            <Grid stretched style={{ width: \"100%\" }}>\r\n              <Grid.Row columns=\"equal\" stretched textAlign=\"center\">\r\n                <Grid.Column>\r\n                  <div\r\n                    style={{\r\n                      color: itemLeft.color,\r\n                      fontSize: 28,\r\n                      fontWeight: \"bolder\",\r\n                      padding: \"10px 0\",\r\n                    }}\r\n                  >\r\n                    {itemLeft.value}\r\n                  </div>\r\n                  <div style={{ color: \"grey\" }}>{itemLeft.title}</div>\r\n                </Grid.Column>\r\n                <Grid.Column>\r\n                  <div\r\n                    style={{\r\n                      color: itemRight.color,\r\n                      fontSize: 28,\r\n                      fontWeight: \"bolder\",\r\n                      padding: \"10px 0\",\r\n                    }}\r\n                  >\r\n                    {itemRight.value}\r\n                  </div>\r\n                  <div style={{ color: \"grey\" }}>{itemRight.title}</div>\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n            </Grid>\r\n          </div>\r\n        </Grid.Column>\r\n      </Grid.Row>\r\n    </Grid>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\nimport { useHistory, useParams } from \"react-router\";\r\n\r\nimport {\r\n  Button,\r\n  Container,\r\n  Divider,\r\n  Grid,\r\n  Header,\r\n  Image,\r\n  Label,\r\n  Segment,\r\n} from \"semantic-ui-react\";\r\n\r\nimport toffy from \"../api/toffy\";\r\n\r\nimport calculateCreated from \"../functions/calculateCreated\";\r\n\r\nimport ChartSegment from \"../components/User/ChartSegment\";\r\n\r\nimport { LoggedInContext } from \"../context/LoggedInContext\";\r\nimport { ToastContext } from \"../context/ToastContext\";\r\nimport { WindowContext } from \"../context/WindowContext\";\r\n\r\nexport default function UserScreen() {\r\n  let { _id } = useParams();\r\n\r\n  const [user, setUser] = useState(null);\r\n\r\n  let history = useHistory();\r\n\r\n  const { windowHeight } = useContext(WindowContext);\r\n  const { user_id } = useContext(LoggedInContext);\r\n  const { showToast } = useContext(ToastContext);\r\n\r\n  useEffect(() => {\r\n    getUserInformation();\r\n  }, [_id]);\r\n\r\n  const getUserInformation = async () => {\r\n    // This method gathers the user information\r\n    try {\r\n      const user = await toffy.get(`/user/${_id}`);\r\n      setUser(user.data);\r\n    } catch (error) {\r\n      // : error getting the user information\r\n      showToast(\"error\", error.response.data.error);\r\n      // Force the user back\r\n      history.push(\"/home\");\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    // User information is loading\r\n    return (\r\n      <Container>\r\n        <Header>Loading...</Header>\r\n      </Container>\r\n    );\r\n  } else {\r\n    // User information is finished loading\r\n    return (\r\n      <div>\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            height: windowHeight / 5,\r\n            background: \"rgb(10,67,149)\",\r\n            background:\r\n              \"linear-gradient(90deg, rgba(10,67,149,1) 0%, rgba(0,255,89,1) 100%)\",\r\n          }}\r\n        />\r\n        <Segment basic className=\"container\">\r\n          <Grid>\r\n            <Grid.Row>\r\n              <Grid.Column width={8}>\r\n                <Header inverted size=\"huge\">\r\n                  <Image circular src={user.profile_pic} />\r\n                  <Header.Content>\r\n                    {user.username}\r\n                    <Header.Subheader>\r\n                      Joined {calculateCreated(user.date_joined)}{\" \"}\r\n                      <Label>Elo: {user.elo}</Label>\r\n                    </Header.Subheader>\r\n                  </Header.Content>\r\n                </Header>\r\n              </Grid.Column>\r\n              <Grid.Column width={8}>\r\n                {user._id === user_id ? (\r\n                  <Button\r\n                    as=\"a\"\r\n                    onClick={() => {\r\n                      history.push(`/u/${_id}/edit`)\r\n                    }}\r\n                    primary\r\n                    floated=\"right\"\r\n                  >\r\n                    Edit Profile\r\n                  </Button>\r\n                ) : (\r\n                  null // <Button floated=\"right\">Message</Button>\r\n                )}\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n          </Grid>\r\n\r\n          <Divider section hidden />\r\n\r\n          <Grid stackable doubling stretched>\r\n            <Grid.Row columns=\"equal\">\r\n              <Grid.Column>\r\n                <Header inverted size=\"large\">\r\n                  Overall Stats\r\n                </Header>\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n            <Grid.Row stretched>\r\n              {[\r\n                {\r\n                  title: \"Total tournaments organized\",\r\n                  value: user.tournaments_organized,\r\n                },\r\n                {\r\n                  title: \"Total matches played\",\r\n                  value: user.matches_played.length,\r\n                },\r\n                {\r\n                  title: \"Total tournaments participated\",\r\n                  value: user.total_tournaments_played,\r\n                },\r\n                {\r\n                  title: \"Total matches won\",\r\n                  value: user.matches_won,\r\n                },\r\n              ].map((obj) => {\r\n                return (\r\n                  <Grid.Column\r\n                    computer={4}\r\n                    largeScreen={4}\r\n                    widescreen={4}\r\n                    tablet={8}\r\n                    mobile={16}\r\n                  >\r\n                    <Segment inverted padded textAlign=\"center\">\r\n                      <Header inverted style={{ fontSize: 38 }}>\r\n                        {obj.value}\r\n                      </Header>\r\n                      <Header.Subheader style={{ color: \"grey\" }}>\r\n                        {obj.title}\r\n                      </Header.Subheader>\r\n                    </Segment>\r\n                  </Grid.Column>\r\n                );\r\n              })}\r\n            </Grid.Row>\r\n\r\n            <Divider hidden />\r\n\r\n            <Grid.Row columns=\"equal\">\r\n              <Grid.Column>\r\n                <Header inverted size=\"large\">\r\n                  Games and Matches\r\n                </Header>\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n\r\n            <Grid.Row>\r\n              <Grid.Column width={8}>\r\n                <div>\r\n                  <Header inverted size=\"medium\" attached=\"top\">\r\n                    Overall Win Rate\r\n                  </Header>\r\n                  <Segment inverted attached padded>\r\n                    <ChartSegment\r\n                      userData={user}\r\n                      centerItem={{\r\n                        top: `${user.win_percentage * 100}%`,\r\n                        bottom: \"Win rate\",\r\n                      }}\r\n                      id=\"matchesChartId\"\r\n                      itemLeft={{\r\n                        title: \"Wins\",\r\n                        value: user.matches_won,\r\n                        color: \"#3ec47b\",\r\n                      }}\r\n                      itemRight={{\r\n                        title: \"Losses\",\r\n                        value: user.matches_lost,\r\n                        color: \"#f95b5c\",\r\n                      }}\r\n                    />\r\n                  </Segment>\r\n                </div>\r\n              </Grid.Column>\r\n              <Grid.Column width={8}>\r\n                <div>\r\n                  <Header inverted size=\"medium\" attached=\"top\">\r\n                    Tournaments\r\n                  </Header>\r\n                  <Segment inverted attached padded>\r\n                    <ChartSegment\r\n                      userData={user}\r\n                      centerItem={null}\r\n                      id=\"tournamentChartId\"\r\n                      itemLeft={{\r\n                        title: \"Organized\",\r\n                        value: user.tournaments_organized,\r\n                        color: \"#00365F\",\r\n                      }}\r\n                      itemRight={{\r\n                        title: \"Participated\",\r\n                        value: user.total_tournaments_played,\r\n                        color: \"#2D9CF1\",\r\n                      }}\r\n                    />\r\n                  </Segment>\r\n                </div>\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n\r\n            <Divider hidden />\r\n\r\n            <Grid.Row columns=\"equal\">\r\n              <Grid.Column>\r\n                <Header inverted size=\"large\">\r\n                  Recent Games\r\n                </Header>\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n\r\n            <Grid.Row columns=\"equal\">\r\n              <Grid.Column>\r\n                {user.matches_played.map((match) => {\r\n                  return (\r\n                    <Segment\r\n                      inverted\r\n                      floated\r\n                      style={{\r\n                        borderTop: `1px solid ${\r\n                          match.winner\r\n                            ? match.winner._id === _id\r\n                              ? \"green\"\r\n                              : \"red\"\r\n                            : \"yellow\"\r\n                        }`,\r\n                        margin: \"5px 0px\",\r\n                      }}\r\n                    >\r\n                      <Header style={{ margin: 0, padding: 0 }}>\r\n                        {match.player1.player\r\n                          ? match.player1.player.username\r\n                          : \"TBA\"}{\" \"}\r\n                        vs{\" \"}\r\n                        {match.player2.player\r\n                          ? match.player2.player.username\r\n                          : \"TBA\"}\r\n                      </Header>\r\n                      <Label\r\n                        color={\r\n                          match.winner\r\n                            ? match.winner._id === _id\r\n                              ? \"green\"\r\n                              : \"red\"\r\n                            : \"yellow\"\r\n                        }\r\n                        attached=\"top right\"\r\n                      >\r\n                        {match.winner\r\n                          ? match.winner._id === _id\r\n                            ? \"WON\"\r\n                            : \"LOST\"\r\n                          : \"IN PROGRESS\"}\r\n                      </Label>\r\n                    </Segment>\r\n                  );\r\n                })}\r\n                {user.matches_played.length === 0 ? (\r\n                  <Segment\r\n                    inverted\r\n                    floated\r\n                    style={{\r\n                      borderTop: `1px solid red`,\r\n                      margin: \"5px 0px\",\r\n                    }}\r\n                  >\r\n                    <Header>No Matches Played</Header>\r\n                  </Segment>\r\n                ) : null}\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n          </Grid>\r\n        </Segment>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useReducer, useContext } from \"react\";\r\n\r\nimport {\r\n  Container,\r\n  Divider,\r\n  Form,\r\n  Header,\r\n  Input,\r\n  Button,\r\n  Segment,\r\n  Dropdown,\r\n  TextArea,\r\n} from \"semantic-ui-react\";\r\n\r\nimport { tournament_types } from \"../components/Tournament/TournamentConfig\";\r\n\r\nimport toffy from \"../api/toffy\";\r\n\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport { ToastContext } from \"../context/ToastContext\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"change_title\":\r\n      return { ...state, title: action.payload };\r\n    case \"change_description\":\r\n      return { ...state, description: action.payload };\r\n    case \"change_listed\":\r\n      return { ...state, listed: action.payload };\r\n    case \"change_type\":\r\n      return { ...state, type: action.payload };\r\n    case \"change_scoreTitle\":\r\n      return { ...state, scoreTitle: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function CreateTournamentScreen() {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    title: \"\",\r\n    description: \"\",\r\n    listed: true,\r\n    type: tournament_types.SINGLE_ELIMINATION,\r\n    scoreTitle: \"\",\r\n  });\r\n\r\n  const { showToast } = useContext(ToastContext);\r\n\r\n  const inputStyle = {\r\n    width: \"100%\",\r\n    maxWidth: 450,\r\n  };\r\n\r\n  const settingContainerStyle = {\r\n    marginBottom: 40,\r\n  };\r\n\r\n  let history = useHistory();\r\n\r\n  const handleInputChange = (event, type) => {\r\n    dispatch({ type, payload: event.target.value });\r\n  };\r\n\r\n  const onTypeChange = (event, data) => {\r\n    dispatch({ type: \"change_type\", payload: data.value });\r\n  };\r\n\r\n  const handleFormSubmit = async () => {\r\n    try {\r\n      const response = await toffy.post(\"/create\", state);\r\n      history.push(`/tournament/${response.data}`);\r\n    } catch (error) {\r\n      // : error in creating the tournament\r\n      showToast(\"error\", \"Something went wrong, please try again later.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Segment basic>\r\n        <Header style={{ color: \"lightgrey\" }} as=\"h2\">\r\n          <Header.Content>\r\n            Create Tournament\r\n            <Header.Subheader style={{ color: \"lightgrey\" }}>\r\n              Create a new tournament\r\n            </Header.Subheader>\r\n          </Header.Content>\r\n        </Header>\r\n      </Segment>\r\n\r\n      <Segment basic>\r\n        <div style={settingContainerStyle}>\r\n          <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n            <Header.Content>Title</Header.Content>\r\n          </Header>\r\n          <Input\r\n            onChange={(event, data) => {\r\n              dispatch({ type: \"change_title\", payload: data.value });\r\n            }}\r\n            style={inputStyle}\r\n            value={state.title}\r\n            className=\"settingInput\"\r\n          />\r\n          <div className=\"settingLabel\"></div>\r\n        </div>\r\n\r\n        <div style={settingContainerStyle}>\r\n          <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n            <Header.Content>Description</Header.Content>\r\n          </Header>\r\n          <Form>\r\n            <TextArea\r\n              rows={5}\r\n              value={state.description}\r\n              placeholder=\"Talk about rules, player respect, ethics...\"\r\n              onChange={(event) => {\r\n                handleInputChange(event, \"change_description\");\r\n              }}\r\n              className=\"settingTextArea\"\r\n            />\r\n          </Form>\r\n          <div className=\"settingLabel\">\r\n            here you can convey important information to the users wanting to\r\n            join your tournament, talk about rules.\r\n          </div>\r\n        </div>\r\n\r\n        <div style={settingContainerStyle}>\r\n          <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n            <Header.Content>Type</Header.Content>\r\n          </Header>\r\n          <Dropdown\r\n            className=\"settingDropdown\"\r\n            style={inputStyle}\r\n            placeholder=\"Select Tournament Type\"\r\n            selection\r\n            defaultValue={state.type}\r\n            onChange={onTypeChange}\r\n            options={[\r\n              {\r\n                key: tournament_types.LEADERBOARD,\r\n                value: tournament_types.LEADERBOARD,\r\n                text: tournament_types.LEADERBOARD,\r\n              },\r\n              {\r\n                key: tournament_types.SINGLE_ELIMINATION,\r\n                value: tournament_types.SINGLE_ELIMINATION,\r\n                text: tournament_types.SINGLE_ELIMINATION,\r\n              },\r\n            ]}\r\n          />\r\n          <div className=\"settingLabel\"></div>\r\n        </div>\r\n\r\n        <Form inverted>\r\n          {state.type === tournament_types.LEADERBOARD ? (\r\n            <div style={settingContainerStyle}>\r\n              <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n                <Header.Content>Leaderboard scoring field</Header.Content>\r\n              </Header>\r\n              <Input\r\n                value={state.scoreTitle}\r\n                onChange={(event) => {\r\n                  handleInputChange(event, \"change_scoreTitle\");\r\n                }}\r\n                style={inputStyle}\r\n                className=\"settingInput\"\r\n              />\r\n              <div className=\"settingLabel\">\r\n                this is what each player is scored on, if the tournament is a\r\n                speedrun this might be `time` or if its a free-for-all it might\r\n                be `kills`\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Button positive onClick={handleFormSubmit} primary>\r\n              Update profile\r\n            </Button>\r\n            <div className=\"settingLabel\">make the new tournament</div>\r\n          </div>\r\n        </Form>\r\n      </Segment>\r\n    </Container>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\n\r\nimport toffy from \"../api/toffy\";\r\nimport axios from \"axios\";\r\n\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nimport StorageHelper from \"../helpers/StorageHelper\";\r\n\r\nconst WHITELISTED_PATHS = [\"/login\", \"/\", \"/create/account\"];\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default ({\r\n  UserLoggedIn,\r\n  handleLogout,\r\n  handleUserLogin,\r\n  token,\r\n  TOKEN_STORAGE_NAME,\r\n}) => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    redirect();\r\n  }, []);\r\n\r\n  const redirect = async () => {\r\n    const storageToken = StorageHelper.getStorage(TOKEN_STORAGE_NAME);\r\n    if (storageToken) {\r\n      // token exists so needs testing\r\n      try {\r\n        // Make a request to gather the user information\r\n        const loginAttempt = await toffy.request({\r\n          method: \"get\",\r\n          url: \"/user\",\r\n          headers: {\r\n            Accept: \"application/json\",\r\n            \"X-Authorization\": storageToken,\r\n          },\r\n        });\r\n\r\n        // Object destructor to gather username and user_id\r\n        const { username, user_id } = loginAttempt.data;\r\n\r\n        // The token is valid, log the user in\r\n        handleUserLogin({ token: storageToken, username, user_id });\r\n\r\n        // Push the user to the home screen\r\n        // history.push(\"/home\");\r\n      } catch (error) {\r\n        // : the storage token is invalid\r\n        handleLogout();\r\n      }\r\n    } else {\r\n      // No token in storage so need to direct if user is outside auth\r\n      if (!WHITELISTED_PATHS.includes(location.pathname)) {\r\n        // User is outside the auth\r\n        history.push(\"/login\");\r\n        return;\r\n      }\r\n    }\r\n  };\r\n};\r\n","/**\n * Deep diff between two object, using lodash\n * @param  {Object} object Object compared\n * @param  {Object} base   Object to compare with\n * @return {Object}        Return a new object who represent the diff\n */\nexport function difference(a, b) {\n  let r = {};\n  \n  for (const [key, value] of Object.entries(a)) {\n\n    if(a[key] !== b[key]) {\n      r[key] = value\n    }\n  }\n\n  return r\n}\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\n\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport {\r\n  Container,\r\n  Divider,\r\n  Header,\r\n  Segment,\r\n  Input,\r\n  Button,\r\n  Image,\r\n} from \"semantic-ui-react\";\r\n\r\nimport toffy from \"../api/toffy\";\r\n\r\nimport { LoggedInContext } from \"../context/LoggedInContext\";\r\nimport { ToastContext } from \"../context/ToastContext\";\r\nimport { WindowContext } from \"../context/WindowContext\";\r\n\r\nimport { ALLOWED_PROFILE_IMAGES } from \"../components/Tournament/TournamentConfig\";\r\n\r\nimport { difference } from \"../functions/difference\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"change_username\":\r\n      return { ...state, username: action.payload };\r\n    case \"change_firstname\":\r\n      return { ...state, firstname: action.payload };\r\n    case \"change_lastname\":\r\n      return { ...state, lastname: action.payload };\r\n    case \"change_email\":\r\n      return { ...state, email: action.payload };\r\n    case \"change_profile_pic\":\r\n      return { ...state, profile_pic: action.payload };\r\n    case \"change_state\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default function UserEditScreen() {\r\n  let history = useHistory();\r\n\r\n  const { setUsername, user_id } = useContext(LoggedInContext);\r\n  const { showToast } = useContext(ToastContext);\r\n  const { windowHeight } = useContext(WindowContext);\r\n\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    username: \"\",\r\n    firstname: \"\",\r\n    lastname: \"\",\r\n    email: \"\",\r\n    profile_pic: \"\",\r\n  });\r\n\r\n  const inputStyle = {\r\n    width: \"100%\",\r\n    maxWidth: 450,\r\n  };\r\n\r\n  const settingContainerStyle = {\r\n    marginBottom: 40,\r\n  };\r\n\r\n  const handleUserUpdate = async () => {\r\n    //   Handle Updating the user\r\n    setLoading(true);\r\n    let update = difference(state, user);\r\n    try {\r\n      await toffy.patch(`/user`, update);\r\n      setLoading(false);\r\n      history.push(`/u/${user_id}`);\r\n      setUsername(state.username);\r\n      showToast(\"success\", \"Profile updated.\");\r\n    } catch (error) {\r\n      // : Failed user information update\r\n      showToast(\"error\", \"Update failed, please try again later.\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const getUserInformation = async () => {\r\n    //   This gathers the user information\r\n    try {\r\n      const userRes = await toffy.get(\"/get/user\");\r\n      setUser(userRes.data);\r\n      dispatch({ type: \"change_state\", payload: userRes.data });\r\n    } catch (error) {\r\n      // : Failed to get user information\r\n      showToast(\"error\", \"User doesn't exist.\");\r\n      history.push(\"/home\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUserInformation();\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          width: \"100%\",\r\n          height: windowHeight / 5,\r\n          background: \"rgb(10,67,149)\",\r\n          background:\r\n            \"linear-gradient(90deg, rgba(10,67,149,1) 0%, rgba(0,255,89,1) 100%)\",\r\n        }}\r\n      />\r\n      <Container>\r\n        <Divider hidden />\r\n\r\n        <Segment basic>\r\n          <Header style={{ color: \"lightgrey\" }} as=\"h2\">\r\n            <Header.Content>\r\n              User Settings\r\n              <Header.Subheader style={{ color: \"lightgrey\" }}>\r\n                Manage your account settings\r\n              </Header.Subheader>\r\n            </Header.Content>\r\n          </Header>\r\n        </Segment>\r\n\r\n        <Segment basic style={{ marginLeft: 0, marginRight: 0 }}>\r\n          <div style={settingContainerStyle}>\r\n            <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n              <Header.Content>Username</Header.Content>\r\n            </Header>\r\n            <Input\r\n              onChange={(event, data) => {\r\n                dispatch({ type: \"change_username\", payload: data.value });\r\n              }}\r\n              style={inputStyle}\r\n              value={state.username}\r\n              className=\"settingInput\"\r\n            />\r\n          </div>\r\n\r\n          <div style={settingContainerStyle}>\r\n            <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n              <Header.Content>Profile image</Header.Content>\r\n            </Header>\r\n            <Image.Group>\r\n              {ALLOWED_PROFILE_IMAGES.map((image) => {\r\n                return (\r\n                  <Image\r\n                    style={{\r\n                      ...(image === state.profile_pic\r\n                        ? { border: \"1px solid orange\" }\r\n                        : {}),\r\n                    }}\r\n                    disabled={image !== state.profile_pic}\r\n                    onClick={() => {\r\n                      dispatch({ type: \"change_profile_pic\", payload: image });\r\n                    }}\r\n                    src={image}\r\n                  />\r\n                );\r\n              })}\r\n            </Image.Group>\r\n          </div>\r\n\r\n          <div style={settingContainerStyle}>\r\n            <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n              <Header.Content>Personal Email</Header.Content>\r\n            </Header>\r\n            <Input\r\n              onChange={(event, data) => {\r\n                dispatch({ type: \"change_email\", payload: data.value });\r\n              }}\r\n              style={inputStyle}\r\n              value={state.email}\r\n              className=\"settingInput\"\r\n            />\r\n            <div className=\"settingLabel\">(not visible to other users)</div>\r\n          </div>\r\n\r\n          <div style={settingContainerStyle}>\r\n            <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n              <Header.Content>Firstname</Header.Content>\r\n            </Header>\r\n            <Input\r\n              onChange={(event, data) => {\r\n                dispatch({ type: \"change_firstname\", payload: data.value });\r\n              }}\r\n              style={inputStyle}\r\n              value={state.firstname}\r\n              className=\"settingInput\"\r\n            />\r\n            <div className=\"settingLabel\">(not visible to other users)</div>\r\n          </div>\r\n\r\n          <div style={settingContainerStyle}>\r\n            <Header as=\"h4\" style={{ color: \"lightgrey\" }}>\r\n              <Header.Content>Lastname</Header.Content>\r\n            </Header>\r\n            <Input\r\n              onChange={(event, data) => {\r\n                dispatch({ type: \"change_lastname\", payload: data.value });\r\n              }}\r\n              style={inputStyle}\r\n              value={state.lastname}\r\n              className=\"settingInput\"\r\n            />\r\n            <div className=\"settingLabel\">(not visible to other users)</div>\r\n          </div>\r\n\r\n          <div style={{ marginBottom: 15 }}>\r\n            <Button onClick={handleUserUpdate} primary loading={loading}>\r\n              Update profile\r\n            </Button>\r\n            <div className=\"settingLabel\">update changes to profile</div>\r\n          </div>\r\n        </Segment>\r\n      </Container>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./css/index.css\";\n\nimport NavBar from \"./components/NavBar\";\n\nimport { Divider } from \"semantic-ui-react\";\n\nimport LoginScreen from \"./screens/LoginScreen\";\nimport HomeScreen from \"./screens/HomeScreen\";\nimport LandingScreen from \"./screens/LandingScreen\";\nimport AccountCreateScreen from \"./screens/AccountCreateScreen\";\nimport TournamentScreen from \"./screens/TournamentScreen\";\nimport UserScreen from \"./screens/UserScreen\";\nimport CreateTournamentScreen from \"./screens/CreateTournamentScreen\";\n\nimport useLoginContext, { LoggedInContext } from \"./context/LoggedInContext\";\nimport useWindowContext, { WindowContext } from \"./context/WindowContext\";\nimport useToastContext, { ToastContext } from \"./context/ToastContext\";\n\nimport RedirectLogin from \"./functions/redirectLogin\";\nimport UserEditScreen from \"./screens/UserEditScreen\";\n\nconst routes = [\n  {\n    routeName: \"/u/:_id/edit\",\n    routerComponent: <UserEditScreen />,\n  },\n  {\n    routeName: \"/create/tournament\",\n    routerComponent: <CreateTournamentScreen />,\n  },\n  {\n    routeName: \"/u/:_id\",\n    routerComponent: <UserScreen />,\n  },\n  {\n    routeName: \"/tournament/:_id/:view?\",\n    routerComponent: <TournamentScreen />,\n  },\n  {\n    routeName: \"/create/account\",\n    routerComponent: <AccountCreateScreen />,\n  },\n  {\n    routeName: \"/login\",\n    routerComponent: <LoginScreen />,\n  },\n  {\n    routeName: \"/home\",\n    routerComponent: <HomeScreen />,\n  },\n  {\n    routeName: \"/\",\n    routerComponent: <LandingScreen />,\n  },\n];\n\nfunction App() {\n  // Context inits\n  const [LoginContext] = useLoginContext();\n  const [WindowContextValues] = useWindowContext();\n  const [ToastContainer, ToastValues] = useToastContext();\n\n  RedirectLogin(LoginContext);\n\n  return (\n    <WindowContext.Provider value={WindowContextValues}>\n      <ToastContext.Provider value={ToastValues}>\n        <LoggedInContext.Provider value={LoginContext}>\n          <div>\n            <NavBar routes={routes} />\n            <div>\n              <Switch>\n                {routes.map((route) => {\n                  return (\n                    <Route path={route.routeName}>\n                      {route.routerComponent}\n                    </Route>\n                  );\n                })}\n              </Switch>\n            </div>\n          </div>\n          {![\"/\", \"/login\", \"/create/account\"].includes(\n            window.location.pathname\n          ) ? (\n            <Divider section />\n          ) : null}\n          {ToastContainer}\n        </LoggedInContext.Provider>\n      </ToastContext.Provider>\n    </WindowContext.Provider>\n  );\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/toffy\">\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}